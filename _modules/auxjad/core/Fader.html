

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>auxjad.core.Fader &mdash; auxjad 0.9.4 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> auxjad
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Welcome to Auxjadâ€™s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Examples of usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../score_gallery/index.html">Score gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">Auxjad API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">auxjad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>auxjad.core.Fader</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for auxjad.core.Fader</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">abjad</span>

<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">get</span><span class="p">,</span> <span class="n">mutate</span>
<span class="kn">from</span> <span class="nn">..score.ArtificialHarmonic</span> <span class="kn">import</span> <span class="n">ArtificialHarmonic</span>


<div class="viewcode-block" id="Fader"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader">[docs]</a><span class="k">class</span> <span class="nc">Fader</span><span class="p">():</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Takes an |abjad.Container| (or child class) as input and, using it as</span>
<span class="sd">    reference, gradually removes or adds notes one by one to an output</span>
<span class="sd">    |abjad.Selection|.</span>

<span class="sd">    Basic usage:</span>
<span class="sd">        Calling the object will return an |abjad.Selection| generated by the</span>
<span class="sd">        fading process. Each call of the object will apply the fading process</span>
<span class="sd">        to the previous result. By default, the container will be faded out</span>
<span class="sd">        (that is, its notes will be gradually removed one by one). Note that,</span>
<span class="sd">        by default, the first call in fade out mode outputs the initial</span>
<span class="sd">        container, with subsequent calls replacing leaves for rests.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 ~ c&#39;16 d&#39;8. e&#39;8 f&#39;4.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(container)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            {</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;8</span>
<span class="sd">                ~</span>
<span class="sd">                f&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-cQstYYC7CZ.png</span>

<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-pvlbt0azuqj.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                r8.</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-4bebflmnff9.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r2</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-64h0bb02goc.png</span>

<span class="sd">        The property :attr:`current_window` can be used to access the current</span>
<span class="sd">        window without processing it.</span>

<span class="sd">        &gt;&gt;&gt; notes = fader.current_window()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r2</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-ruetb1tzhtn.png</span>

<span class="sd">    :attr:`process_on_first_call`:</span>
<span class="sd">        The very first call will output the input container without processing</span>
<span class="sd">        it. To disable this behaviour and apply the fading process on the very</span>
<span class="sd">        first call, initialise the class with the keyword argument</span>
<span class="sd">        :attr:`process_on_first_call` set to ``True``.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      process_on_first_call=True,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-rbnsf64kjoq.png</span>

<span class="sd">    :attr:`mode`:</span>
<span class="sd">        This class has two modes, set by the keyword argument :attr:`mode`. The</span>
<span class="sd">        default mode is ``&#39;out&#39;`` (i.e. &#39;fade out mode&#39;), in which the fader</span>
<span class="sd">        will gradually remove notes one by one (see examples above). When set</span>
<span class="sd">        to ``&#39;in&#39;`` (i.e. &#39;fade in mode&#39;), the fader will start with an empty</span>
<span class="sd">        container with the same length and time signature  structure as the</span>
<span class="sd">        input music and will gradually add the original notes one by one.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 ~ c&#39;16 d&#39;8. e&#39;8 f&#39;4.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      mode=&#39;in&#39;,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-dzjqv7lsdis.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r2</span>
<span class="sd">                r8</span>
<span class="sd">                f&#39;4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-f33perr6lfo.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                r8.</span>
<span class="sd">                r8</span>
<span class="sd">                f&#39;4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-qxvj8lkfph.png</span>

<span class="sd">    Changing :attr:`mode` after initialisation:</span>
<span class="sd">        The property :attr:`mode` can also be changed after initialisation, as</span>
<span class="sd">        shown below.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-3ldjnprohuo.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                r4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-wzeaqjgouz8.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                r2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-aqq1docvezb.png</span>

<span class="sd">        &gt;&gt;&gt; fader.mode = &#39;in&#39;</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-3jt6kto85h1.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-2i22so5t5pf.png</span>

<span class="sd">    :attr:`include_empty_measures`:</span>
<span class="sd">        When :attr:`mode` is set to ``&#39;out&#39;``, the process will end on an empty</span>
<span class="sd">        measure and when it is set to ``&#39;in&#39;``, it will start on an empty</span>
<span class="sd">        measure. Set :attr:`include_empty_measures` to ``False`` to exclude the</span>
<span class="sd">        empty measures (default is ``True``). This can be used in conjunction</span>
<span class="sd">        with  :attr:`process_on_first_call`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      mode=&#39;in&#39;,</span>
<span class="sd">        ...                      include_empty_measures=False,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(fader.output_all())</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                r2.</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                r2</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-pg0bejhb7ke.png</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      mode=&#39;out&#39;,</span>
<span class="sd">        ...                      include_empty_measures=False,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(fader.output_all())</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;2</span>
<span class="sd">                r4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;2</span>
<span class="sd">                r2</span>
<span class="sd">                e&#39;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-t1ir3ezcg6a.png</span>

<span class="sd">    Using as iterator:</span>
<span class="sd">        The instances of this class can also be used as an iterator, which can</span>
<span class="sd">        then be used in a for loop to run through the whole process. Note that</span>
<span class="sd">        unlike the methods :meth:`output_n` and :meth:`output_all`, time</span>
<span class="sd">        signatures are added to each window returned by the fader. Use the</span>
<span class="sd">        function |auxjad.mutate.remove_repeated_time_signatures()| to clean</span>
<span class="sd">        the output when using this class in this way.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff()</span>
<span class="sd">        &gt;&gt;&gt; for window in fader:</span>
<span class="sd">        ...     staff.append(window)</span>
<span class="sd">        &gt;&gt;&gt; auxjad.mutate.remove_repeated_time_signatures(staff)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                r4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                r4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                r4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                r2.</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-qyve2exm08p.png</span>

<span class="sd">    Arguments and properties:</span>
<span class="sd">        This class can take many optional keyword arguments during its</span>
<span class="sd">        creation, besides :attr:`mode`. By default, calling the object in fade</span>
<span class="sd">        out mode will return the original container, and calling it in fade in</span>
<span class="sd">        mode will return a container filled with rests; set</span>
<span class="sd">        :attr:`process_on_first_call` to ``True`` and the fade process will be</span>
<span class="sd">        applied on the very first call. :attr:`max_steps` sets the maximum</span>
<span class="sd">        number of note that can be faded in/out at each iteration, ranging</span>
<span class="sd">        between ``1`` and the input value (default is also ``1``).</span>
<span class="sd">        :attr:`repetition_chance` sets the chance of a window repeating itself,</span>
<span class="sd">        from ``0.0`` to ``1.0`` (default is ``0.0``, i.e. no repetitions).</span>
<span class="sd">        :attr:`disable_rewrite_meter` disables the</span>
<span class="sd">        |abjad.Meter.rewrite_meter()| mutation which is applied to the</span>
<span class="sd">        container after every call, and :attr:`omit_time_signatures` will</span>
<span class="sd">        remove all time signatures from the output (both are ``False`` by</span>
<span class="sd">        default). Any measure filled with rests will be rewritten using a</span>
<span class="sd">        multi-measure rest; set the :attr:`use_multimeasure_rests` to ``False``</span>
<span class="sd">        to disable this behaviour. It is possible to set an initial mask for</span>
<span class="sd">        the notes using :attr:`mask`, which should be a :obj:`list` of the same</span>
<span class="sd">        length as the number of notes in the input container. When :attr:`mode`</span>
<span class="sd">        is set to ``&#39;out&#39;``, the mask is initialised with ``1``&#39;s, and when it</span>
<span class="sd">        is set to ``&#39;in&#39;``, it is initialised with ``0``&#39;s. Change it to a mix</span>
<span class="sd">        of ``1``&#39;s and ``0``&#39;s to start the process with some specific notes</span>
<span class="sd">        already hidden or present. The properties :attr:`boundary_depth`,</span>
<span class="sd">        :attr:`maximum_dot_count`, and :attr:`rewrite_tuplets` are passed as</span>
<span class="sd">        arguments to |abjad.Meter.rewrite_meter()|, see its documentation for</span>
<span class="sd">        more information.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;4.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      mode=&#39;in&#39;,</span>
<span class="sd">        ...                      max_steps=2,</span>
<span class="sd">        ...                      repetition_chance=0.7,</span>
<span class="sd">        ...                      disable_rewrite_meter=True,</span>
<span class="sd">        ...                      omit_time_signatures=True,</span>
<span class="sd">        ...                      use_multimeasure_rests=False,</span>
<span class="sd">        ...                      mask=[1, 0, 1, 1, 0],</span>
<span class="sd">        ...                      boundary_depth=0,</span>
<span class="sd">        ...                      maximum_dot_count=1,</span>
<span class="sd">        ...                      rewrite_tuplets=False,</span>
<span class="sd">        ...                      process_on_first_call=True,</span>
<span class="sd">        ...                      include_empty_measures=False,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; fader.mode</span>
<span class="sd">        &#39;in&#39;</span>
<span class="sd">        &gt;&gt;&gt; fader.max_steps</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; fader.repetition_chance</span>
<span class="sd">        0.7</span>
<span class="sd">        &gt;&gt;&gt; fader.disable_rewrite_meter</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; fader.omit_time_signatures</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; fader.use_multimeasure_rests</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [1, 0, 1, 1, 0]</span>
<span class="sd">        &gt;&gt;&gt; fader.boundary_depth</span>
<span class="sd">        0</span>
<span class="sd">        &gt;&gt;&gt; fader.maximum_dot_count</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; fader.rewrite_tuplets</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; fader.process_on_first_call</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; fader.include_empty_measures</span>
<span class="sd">        False</span>

<span class="sd">        Use the properties below to change these values after initialisation.</span>

<span class="sd">        &gt;&gt;&gt; fader.mode = &#39;out&#39;</span>
<span class="sd">        &gt;&gt;&gt; fader.max_steps = 1</span>
<span class="sd">        &gt;&gt;&gt; fader.repetition_chance = 0.23</span>
<span class="sd">        &gt;&gt;&gt; fader.disable_rewrite_meter = False</span>
<span class="sd">        &gt;&gt;&gt; fader.omit_time_signatures = False</span>
<span class="sd">        &gt;&gt;&gt; fader.use_multimeasure_rests = True</span>
<span class="sd">        &gt;&gt;&gt; fader.mask = [0, 1, 1, 0, 1]</span>
<span class="sd">        &gt;&gt;&gt; fader.boundary_depth = 1</span>
<span class="sd">        &gt;&gt;&gt; fader.maximum_dot_count = 2</span>
<span class="sd">        &gt;&gt;&gt; fader.rewrite_tuplets = True</span>
<span class="sd">        &gt;&gt;&gt; fader.process_on_first_call = False</span>
<span class="sd">        &gt;&gt;&gt; fader.include_empty_measures = True</span>
<span class="sd">        &gt;&gt;&gt; fader.mode</span>
<span class="sd">        &#39;out&#39;</span>
<span class="sd">        &gt;&gt;&gt; fader.max_steps</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; fader.repetition_chance</span>
<span class="sd">        0.23</span>
<span class="sd">        &gt;&gt;&gt; fader.disable_rewrite_meter</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; fader.omit_time_signatures</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; fader.use_multimeasure_rests</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [0, 1, 1, 0, 1]</span>
<span class="sd">        &gt;&gt;&gt; fader.boundary_depth</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; fader.maximum_dot_count</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; fader.rewrite_tuplets</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; fader.process_on_first_call</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; fader.include_empty_measures</span>
<span class="sd">        True</span>

<span class="sd">    :attr:`contents`:</span>
<span class="sd">        Use the :attr:`contents` property to read as well as overwrite the</span>
<span class="sd">        contents of the fader. Notice that :attr:`mask` will also be reset at</span>
<span class="sd">        that point.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [1, 1, 1, 1]</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-nv5f76rv7f.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [0, 1, 1, 1]</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r4</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-6fr4wrb8god.png</span>

<span class="sd">        &gt;&gt;&gt; fader.contents = abjad.Container(r&quot;c&#39;16 d&#39;16 e&#39;16 f&#39;16 g&#39;2.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [1, 1, 1, 1, 1]</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                e&#39;16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                g&#39;2.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-p8q5x8ti2d.png</span>

<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [1, 1, 1, 1, 1]</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                r16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                g&#39;2.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-mky4pulzf4i.png</span>

<span class="sd">    :meth:`output_all`:</span>
<span class="sd">        To run through the whole process and output it as a single container,</span>
<span class="sd">        use the method :meth:`output_all`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4. d&#39;8 e&#39;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2</span>
<span class="sd">                r4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2</span>
<span class="sd">                r2</span>
<span class="sd">                e&#39;2</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-kiqwdhyx9vk.png</span>

<span class="sd">    :meth:`output_n`:</span>
<span class="sd">        To run through just part of the process and output it as a single</span>
<span class="sd">        container, use the method :meth:`output_n` and pass the number of</span>
<span class="sd">        iterations as argument.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4. d&#39;8 e&#39;16 f&#39;16 g&#39;4.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_n(3)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                g&#39;4.</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                r8</span>
<span class="sd">                e&#39;16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                g&#39;4.</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                r8</span>
<span class="sd">                e&#39;16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                r4.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-6mqxj9b5f13.png</span>

<span class="sd">    Chords:</span>
<span class="sd">        This class also support chords. Each of their individual notes are</span>
<span class="sd">        removed or added one by one.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;&lt;c&#39; e&#39;&gt;4 ~ &lt;c&#39; e&#39;&gt;16 d&#39;8. &lt;gs e&#39;&gt;8 &lt;bf f&#39; a&#39;&gt;8 ~ &lt;bf f&#39; a&#39;&gt;4&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(fader.output_all())</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                &lt;c&#39; e&#39;&gt;4</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;c&#39; e&#39;&gt;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                &lt;gs e&#39;&gt;8</span>
<span class="sd">                &lt;bf f&#39; a&#39;&gt;4.</span>
<span class="sd">                &lt;c&#39; e&#39;&gt;4</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;c&#39; e&#39;&gt;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                gs8</span>
<span class="sd">                &lt;bf f&#39; a&#39;&gt;4.</span>
<span class="sd">                &lt;c&#39; e&#39;&gt;4</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;c&#39; e&#39;&gt;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                gs8</span>
<span class="sd">                &lt;bf a&#39;&gt;4.</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                gs8</span>
<span class="sd">                &lt;bf a&#39;&gt;4.</span>
<span class="sd">                r4</span>
<span class="sd">                r16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                gs8</span>
<span class="sd">                &lt;bf a&#39;&gt;4.</span>
<span class="sd">                r4</span>
<span class="sd">                r16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                gs8</span>
<span class="sd">                bf4.</span>
<span class="sd">                r2</span>
<span class="sd">                gs8</span>
<span class="sd">                bf4.</span>
<span class="sd">                r2</span>
<span class="sd">                r8</span>
<span class="sd">                bf4.</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-wjphyrz750d.png</span>

<span class="sd">    :func:`len()`:</span>
<span class="sd">        The function :func:`len()` returns the total number of notes in</span>
<span class="sd">        :attr:`contents`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; len(fader)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 ~ c&#39;8 d&#39;8 e&#39;4 ~ e&#39;8 f&#39;8&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; len(fader)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;c&#39;4 ~ c&#39;16 r16 d&#39;8 e&#39;4 ~ e&#39;8 f&#39;16 r16&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; len(fader)</span>
<span class="sd">        4</span>

<span class="sd">        Note that each individual note in a chord will count as one note.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;&lt;c&#39; e&#39; g&#39;&gt;2 &lt;d&#39; f&#39;&gt;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; len(fader)</span>
<span class="sd">        5</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;&lt;c&#39; e&#39; g&#39;&gt;4 ~ &lt;c&#39; e&#39; g&#39;&gt;16 r8. &lt;d&#39; f&#39;&gt;2&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; len(fader)</span>
<span class="sd">        5</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;&lt;c&#39; e&#39; g&#39;&gt;4 d&#39;4 &lt;e&#39; g&#39; b&#39;&gt;4 r4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; len(fader)</span>
<span class="sd">        7</span>

<span class="sd">    :attr:`max_steps`:</span>
<span class="sd">        Setting the keyword argument :attr:`max_steps` to a value larger than</span>
<span class="sd">        ``1`` will result in a random number of steps (between ``1`` and</span>
<span class="sd">        :attr:`max_steps`) being applied at each call.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;8 d&#39;8 e&#39;8 f&#39;8 g&#39;8 a&#39;8 b&#39;8 c&#39;&#39;8&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      max_steps=3,</span>
<span class="sd">        ...                      process_on_first_call=True,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_n(3)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">                f&#39;8</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                c&#39;&#39;8</span>
<span class="sd">                r4.</span>
<span class="sd">                f&#39;8</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                c&#39;&#39;8</span>
<span class="sd">                r4.</span>
<span class="sd">                f&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-72wpb0iqtes.png</span>

<span class="sd">    :attr:`repetition_chance`:</span>
<span class="sd">        Use :attr:`repetition_chance` to set the chance of a measure repeating</span>
<span class="sd">        itself, ranging from ``0.0`` to ``1.0`` (default is ``0.0``,</span>
<span class="sd">        i.e. no repetitions).</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4. d&#39;8 e&#39;4.. f&#39;16&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      repetition_chance=0.5,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_n(5)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                r16</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                r16</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                r2</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                r2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-1t2yh8imiu8.png</span>

<span class="sd">    :attr:`mask` and :meth:`reset_mask`:</span>
<span class="sd">        The property :attr:`mask` is used to represent whether each note is</span>
<span class="sd">        hidden or present. It is a :obj:`list` of the same length as the number</span>
<span class="sd">        of notes in the input container (use the :func:`len()` function to read</span>
<span class="sd">        that value). When :attr:`mode` is set to ``&#39;out&#39;``, the mask is</span>
<span class="sd">        initialised with ``1``&#39;s, and when it is set to ``&#39;in&#39;``, it is</span>
<span class="sd">        initialised with ``0``&#39;s. Change it to a mix of ``1``&#39;s and ``0``&#39;s to</span>
<span class="sd">        start the process with some notes already hidden or present. Use the</span>
<span class="sd">        method :meth:`reset_mask` to reset it back to its default value</span>
<span class="sd">        (depending on :attr:`mode`).</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;8 e&#39;8 f&#39;4 ~ f&#39;8. g&#39;16&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [1, 1, 1, 1, 1]</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      mode=&#39;in&#39;,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [0, 0, 0, 0, 0]</span>
<span class="sd">        &gt;&gt;&gt; for _ in range(3):</span>
<span class="sd">        ...     fader()</span>
<span class="sd">        ...     fader.mask</span>
<span class="sd">        [0, 0, 0, 0, 0]</span>
<span class="sd">        [0, 1, 0, 0, 0]</span>
<span class="sd">        [0, 1, 1, 0, 0]</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(fader.current_window)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r4</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                r2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-52bwgmr7rks.png</span>

<span class="sd">        &gt;&gt;&gt; fader.mask = [1, 0, 1, 1, 0]</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [1, 0, 1, 1, 0]</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                r8</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;4..</span>
<span class="sd">                r16</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-fa199pggrp.png</span>

<span class="sd">        &gt;&gt;&gt; fader.reset_mask()</span>
<span class="sd">        &gt;&gt;&gt; fader.mask</span>
<span class="sd">        [0, 0, 0, 0, 0]</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-xq3g5bd8djr.png</span>

<span class="sd">        When a container has chords, each of their notes will be represented by</span>
<span class="sd">        an index in the mask, from the lowest pitched one to the highest</span>
<span class="sd">        pitched one. For instance, the container ``c&#39;2 &lt;d&#39; e&#39; f&#39; g&#39;&gt;2`` has</span>
<span class="sd">        five notes in total (a single note plus a 4-note chord), and applying</span>
<span class="sd">        the mask ``[1, 0, 1, 1, 0]`` to it will result in the first, third, and</span>
<span class="sd">        fourth notes to be shown, in this case ``c&#39;2 &lt;e&#39; f&#39;&gt;2``.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;2 &lt;d&#39; e&#39; f&#39; g&#39;&gt;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container, mask=[1, 0, 1, 1, 0])</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(fader())</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                &lt;e&#39; f&#39;&gt;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-5n18nhr5qq2.png</span>

<span class="sd">    :meth:`random_mask`:</span>
<span class="sd">        The mask can also be randomised at any point using the method</span>
<span class="sd">        :meth:`random_mask`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;8 d&#39;8 e&#39;8 f&#39;8 g&#39;8 a&#39;8 b&#39;8 c&#39;&#39;8&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; fader.random_mask()</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                r4</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-r9z77w5l6vp.png</span>

<span class="sd">        &gt;&gt;&gt; fader.random_mask()</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                r4</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-t7p8rjahkdh.png</span>

<span class="sd">    :meth:`shuffle_mask`:</span>
<span class="sd">        Use :meth:`shuffle_mask` to shuffle the current mask. This method will</span>
<span class="sd">        shuffle the mask while keeping the total number of shown notes constant</span>
<span class="sd">        (that is, it will shuffle the contents of the mask while keeping the</span>
<span class="sd">        total number of ``1``&#39;s and ``0``&#39;s).</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;8 d&#39;8 e&#39;8 f&#39;8 g&#39;8 a&#39;8 b&#39;8 c&#39;&#39;8&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      mask=[0, 0, 1, 1, 1, 1, 1, 1],</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; fader.shuffle_mask()</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                r8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                f&#39;8</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                a&#39;8</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-6bghb0g2wcx.png</span>

<span class="sd">        &gt;&gt;&gt; fader.shuffle_mask()</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">                g&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">                b&#39;8</span>
<span class="sd">                c&#39;&#39;8</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-lvf1fqvizjn.png</span>

<span class="sd">    :attr:`use_multimeasure_rests` and :attr:`disable_rewrite_meter`:</span>
<span class="sd">        By default, all rests in a measure filled only with rests will be</span>
<span class="sd">        converted into a multi-measure rest. Set :attr:`use_multimeasure_rests`</span>
<span class="sd">        to ``False`` to disable this. Also, by default, all output is mutated</span>
<span class="sd">        through |abjad.Meter.rewrite_meter()|. To disable it, set</span>
<span class="sd">        :attr:`disable_rewrite_meter` to ``True``.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;8 d&#39;8 e&#39;2.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      disable_rewrite_meter=True,</span>
<span class="sd">        ...                      use_multimeasure_rests=False,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2.</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                r8</span>
<span class="sd">                e&#39;2.</span>
<span class="sd">                r8</span>
<span class="sd">                r8</span>
<span class="sd">                e&#39;2.</span>
<span class="sd">                r8</span>
<span class="sd">                r8</span>
<span class="sd">                r2.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-lax06gkb3ap.png</span>

<span class="sd">    :attr:`omit_time_signatures`:</span>
<span class="sd">        To disable time signatures altogether, initialise this class with the</span>
<span class="sd">        keyword argument :attr:`omit_time_signatures` set to ``True`` (default</span>
<span class="sd">        is ``False``), or use the :attr:`omit_time_signatures` property after</span>
<span class="sd">        initialisation.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;4.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      omit_time_signatures=True,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                e&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-pcq5ecwz7ff.png</span>

<span class="sd">    ..  tip::</span>

<span class="sd">        All methods that return an |abjad.Selection| will add an initial time</span>
<span class="sd">        signature to it. The :meth:`output_n` and :meth:`output_all` methods</span>
<span class="sd">        automatically remove repeated time signatures. When joining selections</span>
<span class="sd">        output by multiple method calls, use</span>
<span class="sd">        |auxjad.mutate.remove_repeated_time_signatures()| on the whole</span>
<span class="sd">        container after fusing the selections to remove any unecessary time</span>
<span class="sd">        signature changes.</span>

<span class="sd">    Tweaking |abjad.Meter.rewrite_meter()|:</span>
<span class="sd">        This function uses the default logical tie splitting algorithm from</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4. d&#39;8 e&#39;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-93hcv2prkua.png</span>

<span class="sd">        Set :attr:`boundary_depth` to a different number to change its</span>
<span class="sd">        behaviour.</span>

<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container,</span>
<span class="sd">        ...                      boundary_depth=1,</span>
<span class="sd">        ...                      )</span>
<span class="sd">        &gt;&gt;&gt; notes = fader()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-cq661zyctf.png</span>

<span class="sd">        Other arguments available for tweaking the output of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()| are :attr:`maximum_dot_count` and</span>
<span class="sd">        :attr:`rewrite_tuplets`, which work exactly as the identically named</span>
<span class="sd">        arguments of |abjad.Meter.rewrite_meter()|.</span>

<span class="sd">        This class also accepts the arguments ``fuse_across_groups_of_beats``,</span>
<span class="sd">        ``fuse_quadruple_meter``, ``fuse_triple_meter``, and</span>
<span class="sd">        ``extract_trivial_tuplets``, which are passed on to</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()| (the latter can be disabled</span>
<span class="sd">        by setting ``prettify_rewrite_meter`` to ``False``). See the</span>
<span class="sd">        documentation of this function for more details on these arguments.</span>

<span class="sd">    Indicators:</span>
<span class="sd">        This class can handle dynamics and articulations too.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\time 3/4 c&#39;8-&gt;\f d&#39;8\p ~ d&#39;4 e&#39;8..-- f&#39;32-.&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 3/4</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                \f</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;4.</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;8..</span>
<span class="sd">                - \tenuto</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                - \staccato</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                \f</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;4.</span>
<span class="sd">                \p</span>
<span class="sd">                r8..</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                - \staccato</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                \f</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;4.</span>
<span class="sd">                \p</span>
<span class="sd">                r4</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                \f</span>
<span class="sd">                - \accent</span>
<span class="sd">                r8</span>
<span class="sd">                r2</span>
<span class="sd">                R1 * 3/4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-ox08wd3ljps.png</span>

<span class="sd">    Slurs and hairpins:</span>
<span class="sd">        Slurs and hairpins are also supported. Slurs are split when rests</span>
<span class="sd">        appear in the middle of a slurred phrase, while hairpins are shortened</span>
<span class="sd">        and adjusted as required.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\times 2/3 {c&#39;2(\p\&lt; d&#39;2 e&#39;2\f} f&#39;4\p\&gt; g&#39;2 a&#39;4\pp)&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_n(5)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    \time 4/4</span>
<span class="sd">                    c&#39;2</span>
<span class="sd">                    \p</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    (</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \f</span>
<span class="sd">                }</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                \&gt;</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;2</span>
<span class="sd">                    \p</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    (</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \f</span>
<span class="sd">                    )</span>
<span class="sd">                }</span>
<span class="sd">                r4</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                \p</span>
<span class="sd">                \&gt;</span>
<span class="sd">                (</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r2</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    \p</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    (</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \f</span>
<span class="sd">                    )</span>
<span class="sd">                }</span>
<span class="sd">                r4</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                \p</span>
<span class="sd">                \&gt;</span>
<span class="sd">                (</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r2</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    \p</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    r2</span>
<span class="sd">                    \f</span>
<span class="sd">                }</span>
<span class="sd">                r4</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                \p</span>
<span class="sd">                \&gt;</span>
<span class="sd">                (</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                )</span>
<span class="sd">                R1</span>
<span class="sd">                r4</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                \p</span>
<span class="sd">                \&gt;</span>
<span class="sd">                (</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                )</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-jprjps4zxej.png</span>

<span class="sd">    ..  tip::</span>

<span class="sd">        The functions |auxjad.mutate.remove_repeated_dynamics()| and</span>
<span class="sd">        |auxjad.mutate.reposition_clefs()| can be used to clean the output</span>
<span class="sd">        and remove repeated dynamics and unnecessary clef changes.</span>

<span class="sd">    ..  warning::</span>

<span class="sd">        Do note that some elements that span multiple notes (such as ottava</span>
<span class="sd">        indicators, manual beams, etc.) can become problematic when notes</span>
<span class="sd">        containing them are split into two. As a rule of thumb, it is always</span>
<span class="sd">        better to attach those to the music after the fading process has ended.</span>

<span class="sd">    Tuplets:</span>
<span class="sd">        This class can handle tuplets.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;\times 2/3 {c&#39;8 d&#39;8 e&#39;8} d&#39;2.&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    \time 4/4</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                }</span>
<span class="sd">                d&#39;2.</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                }</span>
<span class="sd">                d&#39;2.</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    r8</span>
<span class="sd">                }</span>
<span class="sd">                d&#39;2.</span>
<span class="sd">                r4</span>
<span class="sd">                d&#39;2.</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-888tqk73kw3.png</span>

<span class="sd">    Time signature changes:</span>
<span class="sd">        This class can handle time signature changes.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;\time 4/4 c&#39;2( d&#39;2 \time 3/4 e&#39;2.)&quot;)</span>
<span class="sd">        &gt;&gt;&gt; fader = auxjad.Fader(container, mode=&#39;in&#39;)</span>
<span class="sd">        &gt;&gt;&gt; notes = fader.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                R1</span>
<span class="sd">                \time 3/4</span>
<span class="sd">                R1 * 3/4</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                r2</span>
<span class="sd">                )</span>
<span class="sd">                \time 3/4</span>
<span class="sd">                R1 * 3/4</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                (</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                )</span>
<span class="sd">                \time 3/4</span>
<span class="sd">                R1 * 3/4</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                (</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \time 3/4</span>
<span class="sd">                e&#39;2.</span>
<span class="sd">                )</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Fader-lkhKFVuUgx.png</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;_contents&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_current_window&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_mode&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_max_steps&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_disable_rewrite_meter&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_mask&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_is_first_window&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_time_signatures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_omit_time_signatures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_use_multimeasure_rests&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_boundary_depth&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_maximum_dot_count&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_rewrite_tuplets&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_process_on_first_call&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_include_empty_measures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_repetition_chance&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_prettify_rewrite_meter&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_extract_trivial_tuplets&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_fuse_across_groups_of_beats&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_fuse_quadruple_meter&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_fuse_triple_meter&#39;</span><span class="p">,</span>
                 <span class="p">)</span>

    <span class="c1">### INITIALISER ###</span>

<div class="viewcode-block" id="Fader.__init__"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">contents</span><span class="p">:</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">,</span>
                 <span class="o">*</span><span class="p">,</span>
                 <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;out&#39;</span><span class="p">,</span>
                 <span class="n">max_steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                 <span class="n">repetition_chance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
                 <span class="n">process_on_first_call</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">disable_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">omit_time_signatures</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">use_multimeasure_rests</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">boundary_depth</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">maximum_dot_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">rewrite_tuplets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">include_empty_measures</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">prettify_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">extract_trivial_tuplets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">fuse_across_groups_of_beats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">fuse_quadruple_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">fuse_triple_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Initialises self.&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_steps</span> <span class="o">=</span> <span class="n">max_steps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">contents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_rewrite_meter</span> <span class="o">=</span> <span class="n">disable_rewrite_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">omit_time_signatures</span> <span class="o">=</span> <span class="n">omit_time_signatures</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_multimeasure_rests</span> <span class="o">=</span> <span class="n">use_multimeasure_rests</span>
        <span class="k">if</span> <span class="n">mask</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">mask</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boundary_depth</span> <span class="o">=</span> <span class="n">boundary_depth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_dot_count</span> <span class="o">=</span> <span class="n">maximum_dot_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rewrite_tuplets</span> <span class="o">=</span> <span class="n">rewrite_tuplets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prettify_rewrite_meter</span> <span class="o">=</span> <span class="n">prettify_rewrite_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract_trivial_tuplets</span> <span class="o">=</span> <span class="n">extract_trivial_tuplets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuse_across_groups_of_beats</span> <span class="o">=</span> <span class="n">fuse_across_groups_of_beats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuse_quadruple_meter</span> <span class="o">=</span> <span class="n">fuse_quadruple_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuse_triple_meter</span> <span class="o">=</span> <span class="n">fuse_triple_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_on_first_call</span> <span class="o">=</span> <span class="n">process_on_first_call</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">include_empty_measures</span> <span class="o">=</span> <span class="n">include_empty_measures</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repetition_chance</span> <span class="o">=</span> <span class="n">repetition_chance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span></div>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="Fader.__repr__"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns interpreter representation of  :attr:`contents`.&#39;</span>
        <span class="k">return</span> <span class="n">abjad</span><span class="o">.</span><span class="n">lilypond</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span></div>

<div class="viewcode-block" id="Fader.__len__"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.__len__">[docs]</a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns the number of notes of :attr:`contents`.&#39;</span>
        <span class="n">length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">logical_ties</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span><span class="o">.</span><span class="n">logical_ties</span><span class="p">(</span><span class="n">pitched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">logical_tie</span> <span class="ow">in</span> <span class="n">logical_ties</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="n">ArtificialHarmonic</span><span class="p">):</span>
                <span class="n">length</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">):</span>
                <span class="n">length</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">written_pitches</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">length</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">length</span></div>

<div class="viewcode-block" id="Fader.__call__"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Calls the fading process for one iteration, returning an</span>
<span class="sd">        |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span> <span class="o">==</span> <span class="mf">0.0</span>
                <span class="ow">or</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="s1">&#39;out&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_remove_element</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_add_element</span><span class="p">()</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="s1">&#39;in&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_add_element</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mask_to_selection</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_window</span></div>

<div class="viewcode-block" id="Fader.__next__"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.__next__">[docs]</a>    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Calls the fading process for one iteration, returning an</span>
<span class="sd">        |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_done</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">()</span></div>

<div class="viewcode-block" id="Fader.__iter__"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.__iter__">[docs]</a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns an iterator, allowing instances to be used as iterators.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span></div>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="Fader.output_all"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.output_all">[docs]</a>    <span class="k">def</span> <span class="nf">output_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Goes through the whole fading process and outputs a single</span>
<span class="sd">        |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">()</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">dummy_container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_done</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">output</span></div>

<div class="viewcode-block" id="Fader.output_n"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.output_n">[docs]</a>    <span class="k">def</span> <span class="nf">output_n</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Goes through ``n`` iterations of the fading process and outputs a</span>
<span class="sd">        single |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;first positional argument must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;first positional argument must be a positive &quot;</span>
                             <span class="s2">&quot;&#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">dummy_container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">())</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">output</span></div>

<div class="viewcode-block" id="Fader.reset_mask"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.reset_mask">[docs]</a>    <span class="k">def</span> <span class="nf">reset_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Creates a mask filled with a default value for the notes.&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="s1">&#39;out&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__len__</span><span class="p">())]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__len__</span><span class="p">())]</span></div>

<div class="viewcode-block" id="Fader.random_mask"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.random_mask">[docs]</a>    <span class="k">def</span> <span class="nf">random_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s2">&quot;Creates a mask randomly filled with ``1``&#39;s and ``0``&#39;s.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__len__</span><span class="p">())]</span></div>

<div class="viewcode-block" id="Fader.shuffle_mask"><a class="viewcode-back" href="../../../_api_members/auxjad.Fader.html#auxjad.Fader.shuffle_mask">[docs]</a>    <span class="k">def</span> <span class="nf">shuffle_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s2">&quot;Shuffles the current mask.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span></div>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_remove_element</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Sets a random element of the mask to ``False``.&#39;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span><span class="p">)):</span>
            <span class="k">if</span> <span class="mi">1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">:</span>
                <span class="n">total_count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>
                <span class="n">random_count</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index_of_nth_occurrence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">,</span>
                                                          <span class="n">element</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                                          <span class="n">count</span><span class="o">=</span><span class="n">random_count</span><span class="p">,</span>
                                                          <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;&#39;current_window&#39; is already empty&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_element</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Sets a random element of the mask to ``True``.&#39;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span><span class="p">)):</span>
            <span class="k">if</span> <span class="mi">0</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">:</span>
                <span class="n">total_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__len__</span><span class="p">()</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>
                <span class="n">random_count</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total_count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index_of_nth_occurrence</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">,</span>
                                                          <span class="n">element</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                          <span class="n">count</span><span class="o">=</span><span class="n">random_count</span><span class="p">,</span>
                                                          <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;&#39;current_window&#39; is already full&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_mask_to_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Applies the mask to :attr:`contents`.&#39;</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span>
        <span class="n">logical_ties</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">)</span><span class="o">.</span><span class="n">logical_ties</span><span class="p">(</span><span class="n">pitched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">mask_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">logical_tie</span> <span class="ow">in</span> <span class="n">logical_ties</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="n">ArtificialHarmonic</span><span class="p">)):</span>
                <span class="n">chord_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">written_pitches</span><span class="p">)</span>
                <span class="k">if</span> <span class="mi">1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">[</span><span class="n">mask_index</span><span class="p">:</span><span class="n">mask_index</span> <span class="o">+</span> <span class="n">chord_len</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_convert_pitched_logical_tie_to_rest</span><span class="p">(</span><span class="n">logical_tie</span><span class="p">)</span>
                    <span class="n">mask_index</span> <span class="o">+=</span> <span class="n">chord_len</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_written_pitches</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">written_pitch</span> <span class="ow">in</span> <span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="o">.</span><span class="n">written_pitches</span><span class="p">:</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">[</span><span class="n">mask_index</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">new_written_pitches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">written_pitch</span><span class="p">)</span>
                        <span class="n">mask_index</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_written_pitches</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">logical_tie</span><span class="p">:</span>
                            <span class="n">leaf</span><span class="o">.</span><span class="n">written_pitches</span> <span class="o">=</span> <span class="n">new_written_pitches</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">logical_tie</span><span class="p">:</span>
                            <span class="n">note</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="n">new_written_pitches</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                              <span class="n">leaf</span><span class="o">.</span><span class="n">written_duration</span><span class="p">,</span>
                                              <span class="p">)</span>
                            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">indicators</span><span class="p">(</span><span class="n">leaf</span><span class="p">):</span>
                                <span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">note</span><span class="p">)</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">note</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">[</span><span class="n">mask_index</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_convert_pitched_logical_tie_to_rest</span><span class="p">(</span><span class="n">logical_tie</span><span class="p">)</span>
                <span class="n">mask_index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">mask_index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="c1"># handling dynamics and slurs and empty tuplets</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">reposition_dynamics</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">reposition_slurs</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">extract_trivial_tuplets</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="c1"># applying rewrite meter</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_disable_rewrite_meter</span><span class="p">:</span>
            <span class="n">mutate</span><span class="o">.</span><span class="n">auto_rewrite_meter</span><span class="p">(</span>
                <span class="n">dummy_container</span><span class="p">,</span>
                <span class="n">boundary_depth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_boundary_depth</span><span class="p">,</span>
                <span class="n">maximum_dot_count</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum_dot_count</span><span class="p">,</span>
                <span class="n">rewrite_tuplets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_rewrite_tuplets</span><span class="p">,</span>
                <span class="n">prettify_rewrite_meter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_prettify_rewrite_meter</span><span class="p">,</span>
                <span class="n">extract_trivial_tuplets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_extract_trivial_tuplets</span><span class="p">,</span>
                <span class="n">fuse_across_groups_of_beats</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fuse_across_groups_of_beats</span><span class="p">,</span>
                <span class="n">fuse_quadruple_meter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fuse_quadruple_meter</span><span class="p">,</span>
                <span class="n">fuse_triple_meter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fuse_triple_meter</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_multimeasure_rests</span><span class="p">:</span>
            <span class="n">mutate</span><span class="o">.</span><span class="n">rests_to_multimeasure_rest</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="c1"># output</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_window</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_get_lilypond_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns interpreter representation of  :attr:`contents`.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_convert_pitched_logical_tie_to_rest</span><span class="p">(</span><span class="n">logical_tie</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Converts all leaves of a pitched logical tie into rests.&#39;</span>
        <span class="n">indicators_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">BarLine</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Clef</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Fermata</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Ottava</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">RehearsalMark</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Repeat</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StaffChange</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartHairpin</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartMarkup</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartPhrasingSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartTextSpan</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopHairpin</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopPhrasingSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopTextSpan</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">,</span>
                            <span class="p">)</span>
        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">logical_tie</span><span class="p">:</span>
            <span class="n">rest</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Rest</span><span class="p">(</span><span class="n">leaf</span><span class="o">.</span><span class="n">written_duration</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">indicators</span><span class="p">(</span><span class="n">leaf</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">indicators_tuple</span><span class="p">):</span>
                    <span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
            <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_remove_all_time_signatures</span><span class="p">(</span><span class="n">container</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Removes all time signatures of an |abjad.Container|.&#39;</span>
        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">container</span><span class="p">)</span><span class="o">.</span><span class="n">leaves</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">effective</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">):</span>
                <span class="n">abjad</span><span class="o">.</span><span class="n">detach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">,</span> <span class="n">leaf</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_index_of_nth_occurrence</span><span class="p">(</span><span class="n">input_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span>
                                     <span class="o">*</span><span class="p">,</span>
                                     <span class="n">element</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
                                     <span class="n">count</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                     <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Returns the index of the nth occurence of an element in a</span>
<span class="sd">        :obj:`list`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">index</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_list</span><span class="p">)</span>
                     <span class="k">if</span> <span class="n">item</span> <span class="o">==</span> <span class="n">element</span><span class="p">)[</span><span class="n">count</span><span class="p">]</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;The |abjad.Container| to be faded.&#39;</span>
        <span class="k">return</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span>

    <span class="nd">@contents</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">contents</span><span class="p">:</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">,</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;contents&#39; must be &#39;abjad.Container&#39; or &quot;</span>
                            <span class="s2">&quot;child class&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span><span class="o">.</span><span class="n">leaves</span><span class="p">()</span><span class="o">.</span><span class="n">are_contiguous_logical_voice</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;contents&#39; must be contiguous logical voice&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Score</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">([</span><span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
        <span class="n">time_signatures</span> <span class="o">=</span> <span class="n">get</span><span class="o">.</span><span class="n">time_signature_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">,</span>
            <span class="n">do_not_use_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">enforce_time_signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">,</span> <span class="n">time_signatures</span><span class="p">)</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_window</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_mask</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Read-only property, returns the previously output selection.&#39;</span>
        <span class="n">current_window</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_window</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_omit_time_signatures</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_remove_all_time_signatures</span><span class="p">(</span><span class="n">current_window</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">current_window</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sa">r</span><span class="s2">&quot;Mode of fading, must be either ``&#39;in&#39;`` or ``&#39;out&#39;``.&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span>

    <span class="nd">@mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
             <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;mode&#39; must be &#39;str&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;in&#39;</span><span class="p">,</span> <span class="s1">&#39;out&#39;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;mode&#39; must be either &#39;in&#39; or &#39;out&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;The maximum number of steps per operation.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span>

    <span class="nd">@max_steps</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">max_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                  <span class="n">max_steps</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                  <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">max_steps</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;max_steps&#39; must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">max_steps</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;max_steps&#39; must be greater than zero&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span> <span class="o">=</span> <span class="n">max_steps</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mask</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Mask with ``1``&#39;s and ``0``&#39;s representing the notes of</span>
<span class="sd">        :attr:`contents`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span>

    <span class="nd">@mask</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">mask</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
             <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;mask&#39; must be &#39;list&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">element</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">mask</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;mask&#39; must contain only 1&#39;s and 0&#39;s&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__len__</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;mask&#39; must have the same length as the number &quot;</span>
                             <span class="s2">&quot;of logical ties in &#39;contents&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="n">mask</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">disable_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;When ``True``, the durations of the notes in the output will not be</span>
<span class="sd">        rewritten by the |abjad.Meter.rewrite_meter()| mutation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_disable_rewrite_meter</span>

    <span class="nd">@disable_rewrite_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">disable_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">disable_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                              <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">disable_rewrite_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;disable_rewrite_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_disable_rewrite_meter</span> <span class="o">=</span> <span class="n">disable_rewrite_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">omit_time_signatures</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;When ``True``, all time signatures will be omitted from the output.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_omit_time_signatures</span>

    <span class="nd">@omit_time_signatures</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">omit_time_signatures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">omit_time_signatures</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                             <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">omit_time_signatures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;omit_time_signatures&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_omit_time_signatures</span> <span class="o">=</span> <span class="n">omit_time_signatures</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">use_multimeasure_rests</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;When ``True``, multi-measure rests will be used for silent measures.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_multimeasure_rests</span>

    <span class="nd">@use_multimeasure_rests</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">use_multimeasure_rests</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">use_multimeasure_rests</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">use_multimeasure_rests</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;use_multimeasure_rests&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_use_multimeasure_rests</span> <span class="o">=</span> <span class="n">use_multimeasure_rests</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">boundary_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``boundary_depth`` of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_boundary_depth</span>

    <span class="nd">@boundary_depth</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">boundary_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">boundary_depth</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                       <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">boundary_depth</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">boundary_depth</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;boundary_depth&#39; must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_boundary_depth</span> <span class="o">=</span> <span class="n">boundary_depth</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_dot_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``maximum_dot_count`` of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_dot_count</span>

    <span class="nd">@maximum_dot_count</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">maximum_dot_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">maximum_dot_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                          <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">maximum_dot_count</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">maximum_dot_count</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;maximum_dot_count&#39; must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_dot_count</span> <span class="o">=</span> <span class="n">maximum_dot_count</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rewrite_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``rewrite_tuplets`` of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rewrite_tuplets</span>

    <span class="nd">@rewrite_tuplets</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">rewrite_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">rewrite_tuplets</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rewrite_tuplets</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;rewrite_tuplets&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rewrite_tuplets</span> <span class="o">=</span> <span class="n">rewrite_tuplets</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prettify_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Used to enable or disable the mutation</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()| (default ``True``).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prettify_rewrite_meter</span>

    <span class="nd">@prettify_rewrite_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">prettify_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">prettify_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prettify_rewrite_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;prettify_rewrite_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prettify_rewrite_meter</span> <span class="o">=</span> <span class="n">prettify_rewrite_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">extract_trivial_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``extract_trivial_tuplets`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_trivial_tuplets</span>

    <span class="nd">@extract_trivial_tuplets</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">extract_trivial_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">extract_trivial_tuplets</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">extract_trivial_tuplets</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;extract_trivial_tuplets&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_trivial_tuplets</span> <span class="o">=</span> <span class="n">extract_trivial_tuplets</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fuse_across_groups_of_beats</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``fuse_across_groups_of_beats`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_across_groups_of_beats</span>

    <span class="nd">@fuse_across_groups_of_beats</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fuse_across_groups_of_beats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">fuse_across_groups_of_beats</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                                    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuse_across_groups_of_beats</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fuse_across_groups_of_beats&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_across_groups_of_beats</span> <span class="o">=</span> <span class="n">fuse_across_groups_of_beats</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fuse_quadruple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``fuse_quadruple_meter`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_quadruple_meter</span>

    <span class="nd">@fuse_quadruple_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fuse_quadruple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">fuse_quadruple_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                             <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuse_quadruple_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fuse_quadruple_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_quadruple_meter</span> <span class="o">=</span> <span class="n">fuse_quadruple_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fuse_triple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``fuse_triple_meter`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_triple_meter</span>

    <span class="nd">@fuse_triple_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fuse_triple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">fuse_triple_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                          <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuse_triple_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fuse_triple_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_triple_meter</span> <span class="o">=</span> <span class="n">fuse_triple_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">process_on_first_call</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;If ``True`` then :attr:`contents` will be processed in the very</span>
<span class="sd">        first call.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span>

    <span class="nd">@process_on_first_call</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">process_on_first_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">process_on_first_call</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                              <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">process_on_first_call</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;process_on_first_call&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span> <span class="o">=</span> <span class="n">process_on_first_call</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">include_empty_measures</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;If ``True`` then an initial or final empty measures will be used,</span>
<span class="sd">        otherwise the process starts/ends with a single logical tie.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span>

    <span class="nd">@include_empty_measures</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">include_empty_measures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">include_empty_measures</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include_empty_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;include_empty_measures&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span> <span class="o">=</span> <span class="n">include_empty_measures</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">repetition_chance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;The chance of not processing :attr:`contents` on a call, thus</span>
<span class="sd">        repeating the previous output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span>

    <span class="nd">@repetition_chance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">repetition_chance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">repetition_chance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">repetition_chance</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;repetition_chance&#39; must be &#39;float&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">repetition_chance</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">repetition_chance</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;repetition_chance&#39; must be between 0.0 and 1.0&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span> <span class="o">=</span> <span class="n">repetition_chance</span>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;:obj:`bool` indicating whether the process is done, which is when</span>
<span class="sd">        the mask is filled with ``1``&#39;s with :attr:`mode` set to ``&#39;in&#39;`` or</span>
<span class="sd">        when the mask is filled with ``0``&#39;s with :attr:`mode` set to</span>
<span class="sd">        ``&#39;out&#39;``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="s1">&#39;out&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Gilberto Agostinho.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>