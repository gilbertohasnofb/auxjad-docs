

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>auxjad.core.Echoer &mdash; Auxjad 1.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

  
  

  
  
    <link rel="canonical" href="https://gilbertohasnofb.github.io/auxjad-docs/_modules/auxjad/core/Echoer.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Auxjad
          

          
            
            <img src="../../../_static/auxjad-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Welcome to Auxjadâ€™s documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Examples of usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../score_gallery/index.html">Score gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">Auxjad API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Auxjad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>auxjad.core.Echoer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for auxjad.core.Echoer</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">abjad</span>

<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">get</span><span class="p">,</span> <span class="n">mutate</span>


<div class="viewcode-block" id="Echoer"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer">[docs]</a><span class="k">class</span> <span class="nc">Echoer</span><span class="p">():</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Takes an |abjad.Container| (or child class) as input and, using it as</span>
<span class="sd">    reference, gradually lowers all dynamics, removing notes that are below a</span>
<span class="sd">    given threshold, returning the output as an |abjad.Selection|.</span>

<span class="sd">    Basic usage:</span>
<span class="sd">        Calling the object will return an |abjad.Selection| generated by the</span>
<span class="sd">        echoing process. Each call of the object will apply the echoing process</span>
<span class="sd">        to the previous result. By default, the container will be faded out</span>
<span class="sd">        (that is, its notes will be gradually removed one by one). Note that,</span>
<span class="sd">        by default, the first call in fade out mode outputs the initial</span>
<span class="sd">        container, with subsequent calls replacing leaves for rests.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(container)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            {</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-jVGtGRdQev.png</span>

<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-4e4pnLJzwI.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-4bebflmnff9.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-64h0bb02goc.png</span>

<span class="sd">        The property :attr:`current_window` can be used to access the current</span>
<span class="sd">        window without processing it.</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer.current_window()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-ruetb1tzhtn.png</span>

<span class="sd">    :attr:`process_on_first_call`:</span>
<span class="sd">        The very first call will output the input container without processing</span>
<span class="sd">        it. To disable this behaviour and apply the echoing process on the very</span>
<span class="sd">        first call, initialise the class with the keyword argument</span>
<span class="sd">        :attr:`process_on_first_call` set to ``True``.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                      process_on_first_call=True,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-rbnsf64kjoq.png</span>

<span class="sd">    :attr:`min_dynamic`:</span>
<span class="sd">        The threshold dynamic used to remove softer notes during each iteration</span>
<span class="sd">        of the process is set by :attr:`min_dynamic`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\f d&#39;4 e&#39;4 f&#39;4&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        min_dynamic=&#39;mp&#39;,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-dzjqv7lsdis.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                r2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-f33perr6lfo.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                r2.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-qxvj8lkfph.png</span>

<span class="sd">    Changing :attr:`min_dynamic` after initialisation:</span>
<span class="sd">        The property :attr:`min_dynamic` can also be changed after</span>
<span class="sd">        initialisation, as shown below.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-3ldjnprohuo.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-wzeaqjgouz8.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-aqq1docvezb.png</span>

<span class="sd">        &gt;&gt;&gt; echoer.min_dynamic = &#39;pp&#39;</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                r2.</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-3jt6kto85h1.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-2i22so5t5pf.png</span>

<span class="sd">    :attr:`include_empty_measures`:</span>
<span class="sd">        Set :attr:`include_empty_measures` to ``False`` to exclude empty</span>
<span class="sd">        measures at the end of the process (default is ``True``).</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\p d&#39;4 e&#39; f&#39;&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        include_empty_measures=False,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(echoer.output_all())</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-pg0bejhb7ke.png</span>

<span class="sd">    Using as iterator:</span>
<span class="sd">        The instances of this class can also be used as an iterator, which can</span>
<span class="sd">        then be used in a for loop to run through the whole process. Note that</span>
<span class="sd">        unlike the methods :meth:`output_n` and :meth:`output_all`, time</span>
<span class="sd">        signatures are added to each window returned by the echoer. Use the</span>
<span class="sd">        function |auxjad.mutate.remove_repeated_time_signatures()| to clean</span>
<span class="sd">        the output when using this class in this way.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff()</span>
<span class="sd">        &gt;&gt;&gt; for window in echoer:</span>
<span class="sd">        ...     staff.append(window)</span>
<span class="sd">        &gt;&gt;&gt; auxjad.mutate.remove_repeated_time_signatures(staff)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r4</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r2</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r2.</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-qyve2exm08p.png</span>

<span class="sd">    Arguments and properties:</span>
<span class="sd">        This class can take many optional keyword arguments during its</span>
<span class="sd">        creation, besides :attr:`min_dynamic`. By default, calling the object</span>
<span class="sd">        for the first time will return the original container; set</span>
<span class="sd">        :attr:`process_on_first_call` to ``True`` and the echo process will be</span>
<span class="sd">        applied on the very first call. :attr:`max_steps` sets the maximum</span>
<span class="sd">        number of iterations of the echoing process that can be applied in a</span>
<span class="sd">        single call, ranging between ``1`` and the input value (default is also</span>
<span class="sd">        ``1``). :attr:`repetition_chance` sets the chance of a window repeating</span>
<span class="sd">        itself, from ``0.0`` to ``1.0`` (default is ``0.0``, i.e. no</span>
<span class="sd">        repetitions). :attr:`disable_rewrite_meter` disables the</span>
<span class="sd">        |abjad.Meter.rewrite_meter()| mutation which is applied to the</span>
<span class="sd">        container after every call, and :attr:`omit_time_signatures` will</span>
<span class="sd">        remove all time signatures from the output (both are ``False`` by</span>
<span class="sd">        default). Any measure filled with rests will be rewritten using a</span>
<span class="sd">        multi-measure rest; set the :attr:`use_multimeasure_rests` to ``False``</span>
<span class="sd">        to disable this behaviour. The properties :attr:`boundary_depth`,</span>
<span class="sd">        :attr:`maximum_dot_count`, and :attr:`rewrite_tuplets` are passed as</span>
<span class="sd">        arguments to |abjad.Meter.rewrite_meter()|, see its documentation for</span>
<span class="sd">        more information.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        min_dynamic=&#39;p&#39;,</span>
<span class="sd">        ...                        max_steps=2,</span>
<span class="sd">        ...                        repetition_chance=0.7,</span>
<span class="sd">        ...                        disable_rewrite_meter=True,</span>
<span class="sd">        ...                        omit_time_signatures=True,</span>
<span class="sd">        ...                        use_multimeasure_rests=False,</span>
<span class="sd">        ...                        boundary_depth=0,</span>
<span class="sd">        ...                        maximum_dot_count=1,</span>
<span class="sd">        ...                        rewrite_tuplets=False,</span>
<span class="sd">        ...                        process_on_first_call=True,</span>
<span class="sd">        ...                        include_empty_measures=False,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; echoer.min_dynamic</span>
<span class="sd">        &#39;p&#39;</span>
<span class="sd">        &gt;&gt;&gt; echoer.max_steps</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; echoer.repetition_chance</span>
<span class="sd">        0.7</span>
<span class="sd">        &gt;&gt;&gt; echoer.disable_rewrite_meter</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; echoer.omit_time_signatures</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; echoer.use_multimeasure_rests</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; echoer.boundary_depth</span>
<span class="sd">        0</span>
<span class="sd">        &gt;&gt;&gt; echoer.maximum_dot_count</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; echoer.rewrite_tuplets</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; echoer.process_on_first_call</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; echoer.include_empty_measures</span>
<span class="sd">        False</span>

<span class="sd">        Use the properties below to change these values after initialisation.</span>

<span class="sd">        &gt;&gt;&gt; echoer.min_dynamic = &#39;mp&#39;</span>
<span class="sd">        &gt;&gt;&gt; echoer.max_steps = 1</span>
<span class="sd">        &gt;&gt;&gt; echoer.repetition_chance = 0.23</span>
<span class="sd">        &gt;&gt;&gt; echoer.disable_rewrite_meter = False</span>
<span class="sd">        &gt;&gt;&gt; echoer.omit_time_signatures = False</span>
<span class="sd">        &gt;&gt;&gt; echoer.use_multimeasure_rests = True</span>
<span class="sd">        &gt;&gt;&gt; echoer.boundary_depth = 1</span>
<span class="sd">        &gt;&gt;&gt; echoer.maximum_dot_count = 2</span>
<span class="sd">        &gt;&gt;&gt; echoer.rewrite_tuplets = True</span>
<span class="sd">        &gt;&gt;&gt; echoer.process_on_first_call = False</span>
<span class="sd">        &gt;&gt;&gt; echoer.include_empty_measures = True</span>
<span class="sd">        &gt;&gt;&gt; echoer.min_dynamic</span>
<span class="sd">        &#39;mp&#39;</span>
<span class="sd">        &gt;&gt;&gt; echoer.max_steps</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; echoer.repetition_chance</span>
<span class="sd">        0.23</span>
<span class="sd">        &gt;&gt;&gt; echoer.disable_rewrite_meter</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; echoer.omit_time_signatures</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; echoer.use_multimeasure_rests</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; echoer.boundary_depth</span>
<span class="sd">        1</span>
<span class="sd">        &gt;&gt;&gt; echoer.maximum_dot_count</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; echoer.rewrite_tuplets</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; echoer.process_on_first_call</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; echoer.include_empty_measures</span>
<span class="sd">        True</span>

<span class="sd">    :attr:`contents`:</span>
<span class="sd">        Use the :attr:`contents` property to read as well as overwrite the</span>
<span class="sd">        contents of the echoer. Notice that the process will also be reset at</span>
<span class="sd">        that point.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-nv5f76rv7f.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-6fr4wrb8god.png</span>

<span class="sd">        &gt;&gt;&gt; echoer.contents = abjad.Container(r&quot;c&#39;16\f d&#39;16 e&#39;16 f&#39;16 g&#39;2.\p&quot;)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                \f</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                e&#39;16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                g&#39;2.</span>
<span class="sd">                \p</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-p8q5x8ti2d.png</span>

<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                e&#39;16</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                g&#39;2.</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-mky4pulzf4i.png</span>

<span class="sd">    :meth:`output_all`:</span>
<span class="sd">        To run through the whole process and output it as a single container,</span>
<span class="sd">        use the method :meth:`output_all`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r2</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                r2.</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-kiqwdhyx9vk.png</span>

<span class="sd">    :meth:`output_n`:</span>
<span class="sd">        To run through just part of the process and output it as a single</span>
<span class="sd">        container, use the method :meth:`output_n` and pass the number of</span>
<span class="sd">        iterations as argument.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_n(3)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                r4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-6mqxj9b5f13.png</span>

<span class="sd">    Chords and rests:</span>
<span class="sd">        This class also support chords and rest in :attr:`contents`.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;c&#39;4\p ~ c&#39;16 r8. r8. &lt;d&#39; e&#39;&gt;16\mp ~ &lt;d&#39; e&#39;&gt;4&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(echoer.output_all())</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                r8.</span>
<span class="sd">                r8.</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;16</span>
<span class="sd">                \mp</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                r8.</span>
<span class="sd">                r8.</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;16</span>
<span class="sd">                \p</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                r8.</span>
<span class="sd">                r8.</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;16</span>
<span class="sd">                \pp</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;4</span>
<span class="sd">                r2</span>
<span class="sd">                r8.</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;16</span>
<span class="sd">                \ppp</span>
<span class="sd">                ~</span>
<span class="sd">                &lt;d&#39; e&#39;&gt;4</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-wjphyrz750d.png</span>

<span class="sd">    :func:`len()`:</span>
<span class="sd">        The function :func:`len()` returns the total number of notes in</span>
<span class="sd">        :attr:`contents`.</span>

<span class="sd">        &gt;&gt;&gt; abjad.Container(r&quot;c&#39;4\mf d&#39;4\mp e&#39;\p f&#39;\pp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; len(echoer)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;c&#39;4\mf ~ c&#39;8 d&#39;8\mp e&#39;4\p ~ e&#39;8 f&#39;8\pp&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; len(echoer)</span>
<span class="sd">        4</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;c&#39;4\mf ~ c&#39;16 r16 d&#39;8\mp e&#39;4\p ~ e&#39;8 f&#39;16\pp r16&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; len(echoer)</span>
<span class="sd">        4</span>

<span class="sd">        Note that each chord will count as a single unit.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;&lt;c&#39; e&#39; g&#39;&gt;2\f &lt;d&#39; f&#39;&gt;2\p&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; len(echoer)</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;&lt;c&#39; e&#39; g&#39;&gt;4\f ~ &lt;c&#39; e&#39; g&#39;&gt;16 r8. &lt;d&#39; f&#39;&gt;2\p&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; len(echoer)</span>
<span class="sd">        2</span>
<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;&lt;c&#39; e&#39; g&#39;&gt;4\f d&#39;4\mf &lt;e&#39; g&#39; b&#39;&gt;4\p r4&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; len(echoer)</span>
<span class="sd">        3</span>

<span class="sd">    :attr:`max_steps`:</span>
<span class="sd">        Setting the keyword argument :attr:`max_steps` to a value larger than</span>
<span class="sd">        ``1`` will result in a random number of steps (between ``1`` and</span>
<span class="sd">        :attr:`max_steps`) being applied at each call.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;2\fff d&#39;2\mf&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        max_steps=3,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_n(3)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                \fff</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \mf</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                \f</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \p</span>
<span class="sd">                c&#39;2</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-72wpb0iqtes.png</span>

<span class="sd">    :attr:`repetition_chance`:</span>
<span class="sd">        Use :attr:`repetition_chance` to set the chance of a measure repeating</span>
<span class="sd">        itself, ranging from ``0.0`` to ``1.0`` (default is ``0.0``,</span>
<span class="sd">        i.e. no repetitions).</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4.\f d&#39;8\p e&#39;4..\mf f&#39;16\mp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        repetition_chance=0.5,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_n(5)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \f</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                \mf</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                \mp</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \f</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                \p</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                \mf</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                \mp</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                \pp</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                \mp</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                \p</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                \ppp</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                \pp</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                \ppp</span>
<span class="sd">                e&#39;4..</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;16</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-1t2yh8imiu8.png</span>

<span class="sd">    :attr:`use_multimeasure_rests` and :attr:`disable_rewrite_meter`:</span>
<span class="sd">        By default, all rests in a measure filled only with rests will be</span>
<span class="sd">        converted into a multi-measure rest. Set :attr:`use_multimeasure_rests`</span>
<span class="sd">        to ``False`` to disable this. Also, by default, all output is mutated</span>
<span class="sd">        through |abjad.Meter.rewrite_meter()|. To disable it, set</span>
<span class="sd">        :attr:`disable_rewrite_meter` to ``True``.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4\p ~ c&#39;16 d&#39;8.\mp ~ d&#39;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        disable_rewrite_meter=True,</span>
<span class="sd">        ...                        use_multimeasure_rests=False,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                \mp</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                \p</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                \pp</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                r4</span>
<span class="sd">                r16</span>
<span class="sd">                d&#39;8.</span>
<span class="sd">                \ppp</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                r4</span>
<span class="sd">                r16</span>
<span class="sd">                r8.</span>
<span class="sd">                r2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-lax06gkb3ap.png</span>

<span class="sd">    :attr:`omit_time_signatures`:</span>
<span class="sd">        To disable time signatures altogether, initialise this class with the</span>
<span class="sd">        keyword argument :attr:`omit_time_signatures` set to ``True`` (default</span>
<span class="sd">        is ``False``), or use the :attr:`omit_time_signatures` property after</span>
<span class="sd">        initialisation.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\time 2/4 c&#39;4\mf d&#39;4 \time 3/4 e&#39;4\p f&#39;4 g&#39;4&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        omit_time_signatures=True,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_n(3)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                g&#39;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                g&#39;4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                g&#39;4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-pcq5ecwz7ff.png</span>

<span class="sd">    ..  tip::</span>

<span class="sd">        All methods that return an |abjad.Selection| will add an initial time</span>
<span class="sd">        signature to it. The :meth:`output_n` and :meth:`output_all` methods</span>
<span class="sd">        automatically remove repeated time signatures. When joining selections</span>
<span class="sd">        output by multiple method calls, use</span>
<span class="sd">        |auxjad.mutate.remove_repeated_time_signatures()| on the whole</span>
<span class="sd">        container after fusing the selections to remove any unecessary time</span>
<span class="sd">        signature changes.</span>

<span class="sd">    Tweaking |abjad.Meter.rewrite_meter()|:</span>
<span class="sd">        This function uses the default logical tie splitting algorithm from</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(r&quot;c&#39;4.\mf d&#39;8 e&#39;2&quot;)</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \mf</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-93hcv2prkua.png</span>

<span class="sd">        Set :attr:`boundary_depth` to a different number to change its</span>
<span class="sd">        behaviour.</span>

<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container,</span>
<span class="sd">        ...                        boundary_depth=1,</span>
<span class="sd">        ...                        )</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 4/4</span>
<span class="sd">                c&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                ~</span>
<span class="sd">                c&#39;8</span>
<span class="sd">                d&#39;8</span>
<span class="sd">                e&#39;2</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-cq661zyctf.png</span>

<span class="sd">        Other arguments available for tweaking the output of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()| are :attr:`maximum_dot_count` and</span>
<span class="sd">        :attr:`rewrite_tuplets`, which work exactly as the identically named</span>
<span class="sd">        arguments of |abjad.Meter.rewrite_meter()|.</span>

<span class="sd">        This class also accepts the arguments ``fuse_across_groups_of_beats``,</span>
<span class="sd">        ``fuse_quadruple_meter``, ``fuse_triple_meter``, and</span>
<span class="sd">        ``extract_trivial_tuplets``, which are passed on to</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()| (the latter can be disabled</span>
<span class="sd">        by setting ``prettify_rewrite_meter`` to ``False``). See the</span>
<span class="sd">        documentation of this function for more details on these arguments.</span>

<span class="sd">    Indicators:</span>
<span class="sd">        This class can handle dynamics and articulations.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\time 3/4 c&#39;8.-&gt;\mf d&#39;16 ~ d&#39;4 e&#39;8..--\p f&#39;32-.\f&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 3/4</span>
<span class="sd">                c&#39;8.</span>
<span class="sd">                \mf</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;8..</span>
<span class="sd">                \p</span>
<span class="sd">                - \tenuto</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                \f</span>
<span class="sd">                - \staccato</span>
<span class="sd">                c&#39;8.</span>
<span class="sd">                \mp</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;8..</span>
<span class="sd">                \pp</span>
<span class="sd">                - \tenuto</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                \mf</span>
<span class="sd">                - \staccato</span>
<span class="sd">                c&#39;8.</span>
<span class="sd">                \p</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                e&#39;8..</span>
<span class="sd">                \ppp</span>
<span class="sd">                - \tenuto</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                \mp</span>
<span class="sd">                - \staccato</span>
<span class="sd">                c&#39;8.</span>
<span class="sd">                \pp</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                r8..</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                \p</span>
<span class="sd">                - \staccato</span>
<span class="sd">                c&#39;8.</span>
<span class="sd">                \ppp</span>
<span class="sd">                - \accent</span>
<span class="sd">                d&#39;16</span>
<span class="sd">                ~</span>
<span class="sd">                d&#39;4</span>
<span class="sd">                r8..</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                \pp</span>
<span class="sd">                - \staccato</span>
<span class="sd">                r2</span>
<span class="sd">                r8..</span>
<span class="sd">                f&#39;32</span>
<span class="sd">                \ppp</span>
<span class="sd">                - \staccato</span>
<span class="sd">                R1 * 3/4</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-ox08wd3ljps.png</span>

<span class="sd">    Slurs and hairpins:</span>
<span class="sd">        Slurs and hairpins are also supported. Slurs are split when rests</span>
<span class="sd">        appear in the middle of a slurred phrase, while hairpins are shortened</span>
<span class="sd">        and adjusted as required.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\times 2/3 {c&#39;2(\p\&lt; d&#39;2 e&#39;2\ff} f&#39;4\mf\&gt; g&#39;2 a&#39;4\mp)&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_n(5)</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    \time 4/4</span>
<span class="sd">                    c&#39;2</span>
<span class="sd">                    \p</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    (</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \ff</span>
<span class="sd">                }</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \mf</span>
<span class="sd">                \&gt;</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;2</span>
<span class="sd">                    \pp</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    (</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \f</span>
<span class="sd">                }</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \mp</span>
<span class="sd">                \&gt;</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    c&#39;2</span>
<span class="sd">                    \ppp</span>
<span class="sd">                    \&lt;</span>
<span class="sd">                    (</span>
<span class="sd">                    d&#39;2</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \mf</span>
<span class="sd">                }</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \p</span>
<span class="sd">                \&gt;</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r1</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \mp</span>
<span class="sd">                    (</span>
<span class="sd">                }</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \pp</span>
<span class="sd">                \&gt;</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                a&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                )</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r1</span>
<span class="sd">                    e&#39;2</span>
<span class="sd">                    \p</span>
<span class="sd">                    (</span>
<span class="sd">                }</span>
<span class="sd">                f&#39;4</span>
<span class="sd">                \ppp</span>
<span class="sd">                \&gt;</span>
<span class="sd">                g&#39;2</span>
<span class="sd">                )</span>
<span class="sd">                r4</span>
<span class="sd">                \!</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-jprjps4zxej.png</span>

<span class="sd">    ..  tip::</span>

<span class="sd">        The functions |auxjad.mutate.remove_repeated_dynamics()| and</span>
<span class="sd">        |auxjad.mutate.reposition_clefs()| can be used to clean the output</span>
<span class="sd">        and remove repeated dynamics and unnecessary clef changes.</span>

<span class="sd">    ..  warning::</span>

<span class="sd">        Do note that some elements that span multiple notes (such as ottava</span>
<span class="sd">        indicators, manual beams, etc.) can become problematic when notes</span>
<span class="sd">        containing them are split into two. As a rule of thumb, it is always</span>
<span class="sd">        better to attach those to the music after the echoing process has</span>
<span class="sd">        ended.</span>

<span class="sd">    Tuplets:</span>
<span class="sd">        This class can handle tuplets.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\times 2/3 {c&#39;8\ppp d&#39;8\mp e&#39;8} d&#39;2.\pp&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_all()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    \time 4/4</span>
<span class="sd">                    c&#39;8</span>
<span class="sd">                    \ppp</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \mp</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                }</span>
<span class="sd">                d&#39;2.</span>
<span class="sd">                \pp</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \p</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                }</span>
<span class="sd">                d&#39;2.</span>
<span class="sd">                \ppp</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \pp</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                }</span>
<span class="sd">                r2.</span>
<span class="sd">                \times 2/3</span>
<span class="sd">                {</span>
<span class="sd">                    r8</span>
<span class="sd">                    d&#39;8</span>
<span class="sd">                    \ppp</span>
<span class="sd">                    e&#39;8</span>
<span class="sd">                }</span>
<span class="sd">                r2.</span>
<span class="sd">                R1</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-888tqk73kw3.png</span>

<span class="sd">    Time signature changes:</span>
<span class="sd">        This class can handle time signature changes.</span>

<span class="sd">        &gt;&gt;&gt; container = abjad.Container(</span>
<span class="sd">        ...     r&quot;\time 3/8 c&#39;4.\pp \time 2/4 d&#39;2\ff \time 3/8 e&#39;4.\mp&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; echoer = auxjad.Echoer(container)</span>
<span class="sd">        &gt;&gt;&gt; notes = echoer.output_n()</span>
<span class="sd">        &gt;&gt;&gt; staff = abjad.Staff(notes)</span>
<span class="sd">        &gt;&gt;&gt; abjad.show(staff)</span>

<span class="sd">        ..  docs::</span>

<span class="sd">            \new Staff</span>
<span class="sd">            {</span>
<span class="sd">                \time 3/8</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \pp</span>
<span class="sd">                \time 2/4</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \ff</span>
<span class="sd">                \time 3/8</span>
<span class="sd">                e&#39;4.</span>
<span class="sd">                \mp</span>
<span class="sd">                c&#39;4.</span>
<span class="sd">                \ppp</span>
<span class="sd">                \time 2/4</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \f</span>
<span class="sd">                \time 3/8</span>
<span class="sd">                e&#39;4.</span>
<span class="sd">                \p</span>
<span class="sd">                R1 * 3/8</span>
<span class="sd">                \time 2/4</span>
<span class="sd">                d&#39;2</span>
<span class="sd">                \mf</span>
<span class="sd">                \time 3/8</span>
<span class="sd">                e&#39;4.</span>
<span class="sd">                \pp</span>
<span class="sd">            }</span>

<span class="sd">        ..  figure:: ../_images/Echoer-lkhKFVuUgx.png</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">### CLASS VARIABLES ###</span>

    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;_contents&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_current_window&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_min_dynamic&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_max_steps&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_disable_rewrite_meter&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_mask&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_is_first_window&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_time_signatures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_omit_time_signatures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_use_multimeasure_rests&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_boundary_depth&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_maximum_dot_count&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_rewrite_tuplets&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_process_on_first_call&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_include_empty_measures&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_repetition_chance&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_prettify_rewrite_meter&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_extract_trivial_tuplets&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_fuse_across_groups_of_beats&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_fuse_quadruple_meter&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_fuse_triple_meter&#39;</span><span class="p">,</span>
                 <span class="p">)</span>

    <span class="n">_dynamic_name_to_dynamic_ordinal</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;ppppp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span>
        <span class="s1">&#39;pppp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span>
        <span class="s1">&#39;ppp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span>
        <span class="s1">&#39;pp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;mp&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;mf&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;ff&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s1">&#39;fff&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s1">&#39;ffff&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s1">&#39;fffff&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="s1">&#39;fp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;sf&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;sff&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s1">&#39;sfp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;sfpp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;sffp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;sffpp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;sfz&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;sp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;spp&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;rfz&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">_dynamic_ordinal_to_dynamic_name</span> <span class="o">=</span> <span class="p">{</span>
        <span class="o">-</span><span class="mi">5</span> <span class="p">:</span> <span class="s1">&#39;ppppp&#39;</span><span class="p">,</span>
        <span class="o">-</span><span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;pppp&#39;</span><span class="p">,</span>
        <span class="o">-</span><span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;ppp&#39;</span><span class="p">,</span>
        <span class="o">-</span><span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span>
        <span class="o">-</span><span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span>
        <span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;mp&#39;</span><span class="p">,</span>
        <span class="mi">1</span> <span class="p">:</span> <span class="s1">&#39;mf&#39;</span><span class="p">,</span>
        <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span>
        <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;ff&#39;</span><span class="p">,</span>
        <span class="mi">4</span> <span class="p">:</span> <span class="s1">&#39;fff&#39;</span><span class="p">,</span>
        <span class="mi">5</span> <span class="p">:</span> <span class="s1">&#39;ffff&#39;</span><span class="p">,</span>
        <span class="mi">6</span> <span class="p">:</span> <span class="s1">&#39;fffff&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1">### INITIALISER ###</span>

<div class="viewcode-block" id="Echoer.__init__"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">contents</span><span class="p">:</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">,</span>
                 <span class="o">*</span><span class="p">,</span>
                 <span class="n">min_dynamic</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ppp&#39;</span><span class="p">,</span>
                 <span class="n">max_steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
                 <span class="n">repetition_chance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
                 <span class="n">process_on_first_call</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">disable_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">omit_time_signatures</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
                 <span class="n">use_multimeasure_rests</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">boundary_depth</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">maximum_dot_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">rewrite_tuplets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">include_empty_measures</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">prettify_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">extract_trivial_tuplets</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">fuse_across_groups_of_beats</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">fuse_quadruple_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="n">fuse_triple_meter</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Initialises self.&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_dynamic</span> <span class="o">=</span> <span class="n">min_dynamic</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_steps</span> <span class="o">=</span> <span class="n">max_steps</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">contents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_rewrite_meter</span> <span class="o">=</span> <span class="n">disable_rewrite_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">omit_time_signatures</span> <span class="o">=</span> <span class="n">omit_time_signatures</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_multimeasure_rests</span> <span class="o">=</span> <span class="n">use_multimeasure_rests</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boundary_depth</span> <span class="o">=</span> <span class="n">boundary_depth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximum_dot_count</span> <span class="o">=</span> <span class="n">maximum_dot_count</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rewrite_tuplets</span> <span class="o">=</span> <span class="n">rewrite_tuplets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prettify_rewrite_meter</span> <span class="o">=</span> <span class="n">prettify_rewrite_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extract_trivial_tuplets</span> <span class="o">=</span> <span class="n">extract_trivial_tuplets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuse_across_groups_of_beats</span> <span class="o">=</span> <span class="n">fuse_across_groups_of_beats</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuse_quadruple_meter</span> <span class="o">=</span> <span class="n">fuse_quadruple_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fuse_triple_meter</span> <span class="o">=</span> <span class="n">fuse_triple_meter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process_on_first_call</span> <span class="o">=</span> <span class="n">process_on_first_call</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">include_empty_measures</span> <span class="o">=</span> <span class="n">include_empty_measures</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">repetition_chance</span> <span class="o">=</span> <span class="n">repetition_chance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span></div>

    <span class="c1">### SPECIAL METHODS ###</span>

<div class="viewcode-block" id="Echoer.__repr__"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.__repr__">[docs]</a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns interpreter representation of  :attr:`contents`.&#39;</span>
        <span class="k">return</span> <span class="n">abjad</span><span class="o">.</span><span class="n">lilypond</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span></div>

<div class="viewcode-block" id="Echoer.__len__"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.__len__">[docs]</a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns the number of logical ties of :attr:`contents`.&#39;</span>
        <span class="n">logical_ties</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span><span class="o">.</span><span class="n">logical_ties</span><span class="p">(</span><span class="n">pitched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">logical_ties</span><span class="p">)</span></div>

<div class="viewcode-block" id="Echoer.__call__"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Calls the echo process for one iteration, returning an</span>
<span class="sd">        |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span> <span class="o">==</span> <span class="mf">0.0</span>
                <span class="ow">or</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_soften_mask</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mask_to_selection</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_window</span></div>

<div class="viewcode-block" id="Echoer.__next__"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.__next__">[docs]</a>    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Calls the echoing process for one iteration, returning an</span>
<span class="sd">        |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_done</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">()</span></div>

<div class="viewcode-block" id="Echoer.__iter__"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.__iter__">[docs]</a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns an iterator, allowing instances to be used as iterators.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span></div>

    <span class="c1">### PUBLIC METHODS ###</span>

<div class="viewcode-block" id="Echoer.output_all"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.output_all">[docs]</a>    <span class="k">def</span> <span class="nf">output_all</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Goes through the whole echoing process and outputs a single</span>
<span class="sd">        |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">()</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">dummy_container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">())</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_done</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">output</span></div>

<div class="viewcode-block" id="Echoer.output_n"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.output_n">[docs]</a>    <span class="k">def</span> <span class="nf">output_n</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Goes through ``n`` iterations of the echoing process and outputs a</span>
<span class="sd">        single |abjad.Selection|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;first positional argument must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;first positional argument must be a positive &quot;</span>
                             <span class="s2">&quot;&#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="n">dummy_container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">())</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">output</span></div>

<div class="viewcode-block" id="Echoer.reset"><a class="viewcode-back" href="../../../_api_members/auxjad.Echoer.html#auxjad.Echoer.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Resets the process, regenerating the mask.&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_mask</span><span class="p">()</span></div>

    <span class="c1">### PRIVATE METHODS ###</span>

    <span class="k">def</span> <span class="nf">_mask_to_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Applies the mask to :attr:`contents`.&#39;</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span><span class="p">:</span>
            <span class="n">logical_ties</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">)</span><span class="o">.</span><span class="n">logical_ties</span><span class="p">(</span>
                <span class="n">pitched</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">dyn_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask_to_dyn_list</span><span class="p">()</span>
            <span class="n">previous_dyn</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">for</span> <span class="n">logical_tie</span><span class="p">,</span> <span class="n">new_dyn</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">logical_ties</span><span class="p">,</span> <span class="n">dyn_list</span><span class="p">):</span>
                <span class="n">current_dyn</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">indicator</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">,</span>
                                                  <span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span>
                                                  <span class="p">)</span>
                <span class="k">if</span> <span class="n">current_dyn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">abjad</span><span class="o">.</span><span class="n">detach</span><span class="p">(</span><span class="n">current_dyn</span><span class="p">,</span> <span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">new_dyn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">new_dyn</span> <span class="o">!=</span> <span class="n">previous_dyn</span><span class="p">:</span>
                        <span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">new_dyn</span><span class="p">,</span> <span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_convert_pitched_logical_tie_to_rest</span><span class="p">(</span><span class="n">logical_tie</span><span class="p">)</span>
                <span class="n">previous_dyn</span> <span class="o">=</span> <span class="n">new_dyn</span>
        <span class="c1"># handling dynamics and slurs and empty tuplets</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">reposition_dynamics</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">reposition_slurs</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">extract_trivial_tuplets</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="c1"># applying rewrite meter</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_disable_rewrite_meter</span><span class="p">:</span>
            <span class="n">mutate</span><span class="o">.</span><span class="n">auto_rewrite_meter</span><span class="p">(</span>
                <span class="n">dummy_container</span><span class="p">,</span>
                <span class="n">boundary_depth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_boundary_depth</span><span class="p">,</span>
                <span class="n">maximum_dot_count</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_maximum_dot_count</span><span class="p">,</span>
                <span class="n">rewrite_tuplets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_rewrite_tuplets</span><span class="p">,</span>
                <span class="n">prettify_rewrite_meter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_prettify_rewrite_meter</span><span class="p">,</span>
                <span class="n">extract_trivial_tuplets</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_extract_trivial_tuplets</span><span class="p">,</span>
                <span class="n">fuse_across_groups_of_beats</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fuse_across_groups_of_beats</span><span class="p">,</span>
                <span class="n">fuse_quadruple_meter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fuse_quadruple_meter</span><span class="p">,</span>
                <span class="n">fuse_triple_meter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_fuse_triple_meter</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_multimeasure_rests</span><span class="p">:</span>
            <span class="n">mutate</span><span class="o">.</span><span class="n">rests_to_multimeasure_rest</span><span class="p">(</span><span class="n">dummy_container</span><span class="p">[:])</span>
        <span class="c1"># output</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_window</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">_get_lilypond_format</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Returns interpreter representation of  :attr:`contents`.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Creates a mask of dynamic ordinals from :attr:`contents`.&#39;</span>
        <span class="n">logical_ties</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span><span class="o">.</span><span class="n">logical_ties</span><span class="p">(</span><span class="n">pitched</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">previous_dyn</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">logical_tie</span> <span class="ow">in</span> <span class="n">logical_ties</span><span class="p">:</span>
            <span class="n">dyn</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">indicator</span><span class="p">(</span><span class="n">logical_tie</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dyn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">dyn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_name_to_dynamic_ordinal</span><span class="p">[</span><span class="n">dyn</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
                <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;the dynamic marking &#39;</span><span class="si">{</span><span class="n">dyn</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; is &quot;</span>
                                     <span class="s2">&quot;not supported&quot;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dyn</span> <span class="o">=</span> <span class="n">previous_dyn</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dyn</span><span class="p">)</span>
            <span class="n">previous_dyn</span> <span class="o">=</span> <span class="n">dyn</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;first note of &#39;contents&#39; must have a dynamic&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_mask_to_dyn_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sa">r</span><span class="s1">&#39;Converts the numerical mask into a list of dynamic strings.&#39;</span>
        <span class="n">dyn_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">dyn_number</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">dyn_number</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">dyn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_ordinal_to_dynamic_name</span><span class="p">[</span><span class="n">dyn_number</span><span class="p">]</span>
                <span class="n">dyn_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">(</span><span class="n">dyn</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dyn_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">dyn_list</span>

    <span class="k">def</span> <span class="nf">_soften_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]:</span>
        <span class="sa">r</span><span class="s1">&#39;Lowers the dynamics of the mask by one level.&#39;</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">item</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_soften_dynamic</span><span class="p">(</span><span class="n">item</span><span class="p">,</span>
                                                   <span class="bp">self</span><span class="o">.</span><span class="n">_min_dynamic_number</span><span class="p">,</span>
                                                   <span class="p">)</span>
                              <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;&#39;current_window&#39; is already empty&quot;</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_soften_dynamic</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
                        <span class="n">min_dyn_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Lowers a numerical dynamic level by one, setting it to ``None`` if</span>
<span class="sd">        dynamic below a given threshold.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">item</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">item</span> <span class="o">&lt;</span> <span class="n">min_dyn_number</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">item</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_convert_pitched_logical_tie_to_rest</span><span class="p">(</span><span class="n">logical_tie</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Converts all leaves of a pitched logical tie into rests.&#39;</span>
        <span class="n">indicators_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">BarLine</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Clef</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Fermata</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">KeySignature</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">LilyPondLiteral</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">MetronomeMark</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Ottava</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">RehearsalMark</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">Repeat</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StaffChange</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartHairpin</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartMarkup</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartPhrasingSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StartTextSpan</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopHairpin</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopPhrasingSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopSlur</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">StopTextSpan</span><span class="p">,</span>
                            <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">,</span>
                            <span class="p">)</span>
        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">logical_tie</span><span class="p">:</span>
            <span class="n">rest</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Rest</span><span class="p">(</span><span class="n">leaf</span><span class="o">.</span><span class="n">written_duration</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">indicator</span> <span class="ow">in</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">indicators</span><span class="p">(</span><span class="n">leaf</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">indicators_tuple</span><span class="p">):</span>
                    <span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">indicator</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>
            <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">rest</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_remove_all_time_signatures</span><span class="p">(</span><span class="n">container</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Removes all time signatures of an |abjad.Container|.&#39;</span>
        <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">container</span><span class="p">)</span><span class="o">.</span><span class="n">leaves</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">abjad</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">effective</span><span class="p">(</span><span class="n">leaf</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">):</span>
                <span class="n">abjad</span><span class="o">.</span><span class="n">detach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">,</span> <span class="n">leaf</span><span class="p">)</span>

    <span class="c1">### PUBLIC PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;The |abjad.Container| to be faded.&#39;</span>
        <span class="k">return</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">)</span>

    <span class="nd">@contents</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">contents</span><span class="p">:</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">,</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;contents&#39; must be &#39;abjad.Container&#39; or &quot;</span>
                            <span class="s2">&quot;child class&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">abjad</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span><span class="o">.</span><span class="n">leaves</span><span class="p">()</span><span class="o">.</span><span class="n">are_contiguous_logical_voice</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;contents&#39; must be contiguous logical voice&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Score</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">contents</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">([</span><span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
        <span class="n">time_signatures</span> <span class="o">=</span> <span class="n">get</span><span class="o">.</span><span class="n">time_signature_list</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">,</span>
            <span class="n">do_not_use_none</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">mutate</span><span class="o">.</span><span class="n">enforce_time_signature</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_contents</span><span class="p">,</span> <span class="n">time_signatures</span><span class="p">)</span>
        <span class="n">dummy_container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_window</span> <span class="o">=</span> <span class="n">dummy_container</span><span class="p">[:]</span>
        <span class="n">dummy_container</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_first_window</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">current_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Selection</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Read-only property, returns the previously output selection.&#39;</span>
        <span class="n">current_window</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">mutate</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_window</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_omit_time_signatures</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_remove_all_time_signatures</span><span class="p">(</span><span class="n">current_window</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">current_window</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">min_dynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sa">r</span><span class="s1">&#39;The minimum dynamic below which notes are removed.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_dynamic</span>

    <span class="nd">@min_dynamic</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">min_dynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">min_dynamic</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
                    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_dynamic</span><span class="p">,</span> <span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;min_dynamic&#39; must be &#39;abjad.Dynamic&#39; or &#39;str&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_dynamic</span><span class="p">,</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_min_dynamic</span> <span class="o">=</span> <span class="n">min_dynamic</span><span class="o">.</span><span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_min_dynamic</span> <span class="o">=</span> <span class="n">min_dynamic</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;The maximum number of steps per operation.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span>

    <span class="nd">@max_steps</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">max_steps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                  <span class="n">max_steps</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                  <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">max_steps</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;max_steps&#39; must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">max_steps</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;max_steps&#39; must be greater than zero&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_max_steps</span> <span class="o">=</span> <span class="n">max_steps</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">disable_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;When ``True``, the durations of the notes in the output will not be</span>
<span class="sd">        rewritten by the |abjad.Meter.rewrite_meter()| mutation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_disable_rewrite_meter</span>

    <span class="nd">@disable_rewrite_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">disable_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">disable_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                              <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">disable_rewrite_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;disable_rewrite_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_disable_rewrite_meter</span> <span class="o">=</span> <span class="n">disable_rewrite_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">omit_time_signatures</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;When ``True``, all time signatures will be omitted from the output.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_omit_time_signatures</span>

    <span class="nd">@omit_time_signatures</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">omit_time_signatures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">omit_time_signatures</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                             <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">omit_time_signatures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;omit_time_signatures&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_omit_time_signatures</span> <span class="o">=</span> <span class="n">omit_time_signatures</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">use_multimeasure_rests</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;When ``True``, multi-measure rests will be used for silent measures.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_multimeasure_rests</span>

    <span class="nd">@use_multimeasure_rests</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">use_multimeasure_rests</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">use_multimeasure_rests</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">use_multimeasure_rests</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;use_multimeasure_rests&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_use_multimeasure_rests</span> <span class="o">=</span> <span class="n">use_multimeasure_rests</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">boundary_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``boundary_depth`` of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_boundary_depth</span>

    <span class="nd">@boundary_depth</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">boundary_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                       <span class="n">boundary_depth</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                       <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">boundary_depth</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">boundary_depth</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;boundary_depth&#39; must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_boundary_depth</span> <span class="o">=</span> <span class="n">boundary_depth</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum_dot_count</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``maximum_dot_count`` of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_dot_count</span>

    <span class="nd">@maximum_dot_count</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">maximum_dot_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">maximum_dot_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
                          <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">maximum_dot_count</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">maximum_dot_count</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;maximum_dot_count&#39; must be &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_maximum_dot_count</span> <span class="o">=</span> <span class="n">maximum_dot_count</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">rewrite_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``rewrite_tuplets`` of</span>
<span class="sd">        |abjad.Meter.rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rewrite_tuplets</span>

    <span class="nd">@rewrite_tuplets</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">rewrite_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                        <span class="n">rewrite_tuplets</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rewrite_tuplets</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;rewrite_tuplets&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rewrite_tuplets</span> <span class="o">=</span> <span class="n">rewrite_tuplets</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prettify_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Used to enable or disable the mutation</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()| (default ``True``).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prettify_rewrite_meter</span>

    <span class="nd">@prettify_rewrite_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">prettify_rewrite_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">prettify_rewrite_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">prettify_rewrite_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;prettify_rewrite_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prettify_rewrite_meter</span> <span class="o">=</span> <span class="n">prettify_rewrite_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">extract_trivial_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``extract_trivial_tuplets`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_trivial_tuplets</span>

    <span class="nd">@extract_trivial_tuplets</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">extract_trivial_tuplets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                <span class="n">extract_trivial_tuplets</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">extract_trivial_tuplets</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;extract_trivial_tuplets&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_extract_trivial_tuplets</span> <span class="o">=</span> <span class="n">extract_trivial_tuplets</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fuse_across_groups_of_beats</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``fuse_across_groups_of_beats`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_across_groups_of_beats</span>

    <span class="nd">@fuse_across_groups_of_beats</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fuse_across_groups_of_beats</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                    <span class="n">fuse_across_groups_of_beats</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                                    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuse_across_groups_of_beats</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fuse_across_groups_of_beats&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_across_groups_of_beats</span> <span class="o">=</span> <span class="n">fuse_across_groups_of_beats</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fuse_quadruple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``fuse_quadruple_meter`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_quadruple_meter</span>

    <span class="nd">@fuse_quadruple_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fuse_quadruple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">fuse_quadruple_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                             <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuse_quadruple_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fuse_quadruple_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_quadruple_meter</span> <span class="o">=</span> <span class="n">fuse_quadruple_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">fuse_triple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;Sets the argument ``fuse_triple_meter`` of</span>
<span class="sd">        |auxjad.mutate.prettify_rewrite_meter()|.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_triple_meter</span>

    <span class="nd">@fuse_triple_meter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">fuse_triple_meter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">fuse_triple_meter</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                          <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fuse_triple_meter</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fuse_triple_meter&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fuse_triple_meter</span> <span class="o">=</span> <span class="n">fuse_triple_meter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">process_on_first_call</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;If ``True`` then :attr:`contents` will be processed in the very</span>
<span class="sd">        first call.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span>

    <span class="nd">@process_on_first_call</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">process_on_first_call</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                              <span class="n">process_on_first_call</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                              <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">process_on_first_call</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;process_on_first_call&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_process_on_first_call</span> <span class="o">=</span> <span class="n">process_on_first_call</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">include_empty_measures</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;If ``True`` then an initial or final empty measures will be used,</span>
<span class="sd">        otherwise the process starts/ends with a single logical tie.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span>

    <span class="nd">@include_empty_measures</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">include_empty_measures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                               <span class="n">include_empty_measures</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                               <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">include_empty_measures</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;include_empty_measures&#39; must be &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span> <span class="o">=</span> <span class="n">include_empty_measures</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">repetition_chance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;The chance of not processing :attr:`contents` on a call, thus</span>
<span class="sd">        repeating the previous output.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span>

    <span class="nd">@repetition_chance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">repetition_chance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">repetition_chance</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">repetition_chance</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;repetition_chance&#39; must be &#39;float&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">repetition_chance</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">repetition_chance</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;repetition_chance&#39; must be between 0.0 and 1.0&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_repetition_chance</span> <span class="o">=</span> <span class="n">repetition_chance</span>

    <span class="c1">### PRIVATE PROPERTIES ###</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sa">r</span><span class="sd">&quot;&quot;&quot;:obj:`bool` indicating whether the process is done, which is when</span>
<span class="sd">        the mask is filled with ``None``&#39;s.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_include_empty_measures</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">item</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_min_dynamic_number</span><span class="p">)</span>
                       <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mask</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_min_dynamic_number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sa">r</span><span class="s1">&#39;Numerical representation of :attr:`min_dynamic`.&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dynamic_name_to_dynamic_ordinal</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_min_dynamic</span><span class="p">]</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Gilberto Agostinho.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>