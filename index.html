

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Welcome to auxjad’s documentation! &mdash; auxjad 0.4.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> auxjad
          

          
          </a>

          
            
            
              <div class="version">
                0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to auxjad’s documentation!</a></li>
<li><a class="reference internal" href="#module-auxjad">the auxjad package</a><ul>
<li><a class="reference internal" href="#auxjad">auxjad</a></li>
<li><a class="reference internal" href="#are-containers-equal">are_containers_equal</a></li>
<li><a class="reference internal" href="#are-leaves-tieable">are_leaves_tieable</a></li>
<li><a class="reference internal" href="#cartographycontainer">CartographyContainer</a></li>
<li><a class="reference internal" href="#close-container">close_container</a></li>
<li><a class="reference internal" href="#fill-with-rests">fill_with_rests</a></li>
<li><a class="reference internal" href="#is-container-full">is_container_full</a></li>
<li><a class="reference internal" href="#leafdynmaker">LeafDynMaker</a></li>
<li><a class="reference internal" href="#loopwindow">LoopWindow</a></li>
<li><a class="reference internal" href="#loopwindowbyelements">LoopWindowByElements</a></li>
<li><a class="reference internal" href="#loopwindowbylist">LoopWindowByList</a></li>
<li><a class="reference internal" href="#remove-repeated-dynamics">remove_repeated_dynamics</a></li>
<li><a class="reference internal" href="#remove-repeated-time-signatures">remove_repeated_time_signatures</a></li>
<li><a class="reference internal" href="#simplified-time-signature-ratio">simplified_time_signature_ratio</a></li>
<li><a class="reference internal" href="#sync-containers">sync_containers</a></li>
<li><a class="reference internal" href="#tenneyscontainer">TenneysContainer</a></li>
<li><a class="reference internal" href="#underfull-duration">underfull_duration</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">auxjad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Welcome to auxjad’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-auxjad-s-documentation">
<h1>Welcome to auxjad’s documentation!<a class="headerlink" href="#welcome-to-auxjad-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="module-auxjad">
<span id="the-auxjad-package"></span><h1>the auxjad package<a class="headerlink" href="#module-auxjad" title="Permalink to this headline">¶</a></h1>
<div class="section" id="auxjad">
<h2>auxjad<a class="headerlink" href="#auxjad" title="Permalink to this headline">¶</a></h2>
<p>Auxiliary functions and classes for Abjad 3.1. All classes and functions have a
<cite>__doc__</cite> attribute with usage instructions.</p>
<p>Documentation is available at <a class="reference external" href="https://gilbertohasnofb.github.io/auxjad-docs/">https://gilbertohasnofb.github.io/auxjad-docs/</a>.
A pdf version of the documentation is also available in the <cite>docs</cite> directory.</p>
<p>Bugs can be reported to <a class="reference external" href="https://github.com/gilbertohasnofb/auxjad/issues">https://github.com/gilbertohasnofb/auxjad/issues</a>.</p>
<p>This library is published under the MIT License.</p>
</div>
<div class="section" id="are-containers-equal">
<h2>are_containers_equal<a class="headerlink" href="#are-containers-equal" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.are_containers_equal">
<code class="descclassname">auxjad.</code><code class="descname">are_containers_equal</code><span class="sig-paren">(</span><em>container1: abjad.core.Container.Container</em>, <em>container2: abjad.core.Container.Container</em>, <em>*</em>, <em>include_indicators: bool = False</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#auxjad.are_containers_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>A comparator function returning <code class="docutils literal notranslate"><span class="pre">True</span></code> when two containers are
identical and <code class="docutils literal notranslate"><span class="pre">False</span></code> when they are not.</p>
<div class="example docutils container">
<p>When the pitches and effective durations of all leaves in both
containers are identical, this function returns <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Even if all leaves of both containers are identical in relation to both
pitches and written durations, the function considers the effective
durations. This means that situations like the one below do not yield a
false positive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\times 3/2 {c&#39;4 d&#39;4 e&#39;4} &quot;</span>
<span class="gp">... </span>                         <span class="s2">&quot;f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>By default, this function ignores indicators, so the containers in the
example below are understood to be identical:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp d&#39;4 e&#39;4-. f&#39;4 &lt;g&#39; a&#39;&gt;2-&gt; r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Setting the argument <code class="docutils literal notranslate"><span class="pre">include_indicators</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> forces the
function to include indicators in its comparison. In that case, the
containers in the example above are not considered identical any
longer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp d&#39;4 e&#39;4-. f&#39;4 &lt;g&#39; a&#39;&gt;2-&gt; r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">container2</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">include_indicators</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This function also handles grace notes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 \grace{d&#39;4} d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 \grace{c&#39;&#39;4} d&#39;4 e&#39;4 &quot;</span>
<span class="gp">... </span>                         <span class="s2">&quot;f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 \grace{c&#39;&#39;4} d&#39;4 e&#39;4 &quot;</span>
<span class="gp">... </span>                         <span class="s2">&quot;f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 \grace{c&#39;&#39;8} d&#39;4 e&#39;4 &quot;</span>
<span class="gp">... </span>                         <span class="s2">&quot;f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 \grace{c&#39;&#39;16} d&#39;4 e&#39;4 &quot;</span>
<span class="gp">... </span>                         <span class="s2">&quot;f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 \grace{c&#39;&#39;16} d&#39;4 e&#39;4 &quot;</span>
<span class="gp">... </span>                         <span class="s2">&quot;f&#39;4 &lt;g&#39; a&#39;&gt;2 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_containers_equal</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="are-leaves-tieable">
<h2>are_leaves_tieable<a class="headerlink" href="#are-leaves-tieable" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.are_leaves_tieable">
<code class="descclassname">auxjad.</code><code class="descname">are_leaves_tieable</code><span class="sig-paren">(</span><em>leaf1: abjad.core.Leaf.Leaf</em>, <em>leaf2: abjad.core.Leaf.Leaf</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#auxjad.are_leaves_tieable" title="Permalink to this definition">¶</a></dt>
<dd><p>A comparator function returning <code class="docutils literal notranslate"><span class="pre">True</span></code> when two leaves have identical
pitches and thus can be tied, otherwise returning <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="example docutils container">
<p>When the pitches in both leaves are identical, this function returns
<code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Leaf1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Leaf2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">Leaf1</span><span class="p">,</span> <span class="n">Leaf2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Durations do not affect the comparison.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Leaf1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Leaf2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;16&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Leaf3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;f&#39;&#39;&#39;16&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">Leaf1</span><span class="p">,</span> <span class="n">Leaf2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">Leaf1</span><span class="p">,</span> <span class="n">Leaf3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">Leaf2</span><span class="p">,</span> <span class="n">Leaf3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Handles chords as well as pitches.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">chord1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;c&#39; e&#39; g&#39;&gt;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chord2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;c&#39; e&#39; g&#39;&gt;16&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">chord3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;f&#39;&#39;&#39; fs&#39;&#39;&#39;&gt;16&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">chord1</span><span class="p">,</span> <span class="n">chord2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">chord1</span><span class="p">,</span> <span class="n">chord3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">chord2</span><span class="p">,</span> <span class="n">chord3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Leaves can also be part of containers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;r4 &lt;c&#39; e&#39;&gt;4 &lt;c&#39; e&#39;&gt;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">container</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">container</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If rests are input, the return value is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;r4 g&#39;4 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">are_leaves_tieable</span><span class="p">(</span><span class="n">container</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">container</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="cartographycontainer">
<h2>CartographyContainer<a class="headerlink" href="#cartographycontainer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="auxjad.CartographyContainer">
<em class="property">class </em><code class="descclassname">auxjad.</code><code class="descname">CartographyContainer</code><span class="sig-paren">(</span><em>container: list</em>, <em>*</em>, <em>decay_rate: float = 0.75</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.CartographyContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>A container used to store, manipulate, and select objects using a
decaying weighted function.</p>
<div class="example docutils container">
<p>The container should be initialised with a list of objects. The
contents of the list can be absolutely anything.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
</pre></div>
</div>
<p>The default decay rate is 0.75; that is, the weight of any given
elements is the weight of the previous one multiplied by 0.75. The
weights are associated with the index position, not the elements
themselves.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 0.75, 0.5625, 0.421875, 0.31640625]</span>
</pre></div>
</div>
<p>Applying the <code class="docutils literal notranslate"><span class="pre">len()</span></code> function to the container will give the length
of the container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Calling the container will output one of its elements, selected
according to its weight function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">container</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">203001402200011111101400310140</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Calling the container with the optional keyword argument <code class="docutils literal notranslate"><span class="pre">no_repeat</span></code>
set to <code class="docutils literal notranslate"><span class="pre">True</span></code> will forbid immediate repetitions among consecutive
calls.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">container</span><span class="p">(</span><span class="n">no_repeat</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">210421021020304024230120241202</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The keyword argument <code class="docutils literal notranslate"><span class="pre">decay_rate</span></code> can be used to set a different
decay rate when creating a container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">decay_rate</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cartography_container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 0.5, 0.25, 0.125, 0.0625]</span>
</pre></div>
</div>
<p>The decay rate can also be set after the creation of a container,
using the method <code class="docutils literal notranslate"><span class="pre">set_decay_rate()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">set_decay_rate</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 0.2, 0.04000000000000001, 0.008000000000000002,</span>
<span class="go">0.0016000000000000003]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">container</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;000001002100000201001030000100&#39;</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Appending is a type of container transformation. It discards the first
element of the container, shifts all others leftwards, and then appends
the new element to the rightmost index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[1, 2, 3, 4, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[2, 3, 4, 5, 42]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The method <code class="docutils literal notranslate"><span class="pre">append_keeping_n()</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">append()</span></code>, but it
keeps the first n indeces untouched. It thus discards the n+1-th
element, shifts all the next ones lefwards and then appends the new
element at the end of the container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[10, 7, 14, 31, 98]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">append_keeping_n</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[10, 7, 31, 98, 100]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Prepending is another type of container transformation. It discards the
last element of the container, shifts all others rightwards, and then
prepends the new element to the leftmost index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">prepend</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[-1, 0, 1, 2, 3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">prepend</span><span class="p">(</span><span class="mi">71</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[71, -1, 0, 1, 2]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Rotation is another type of container transformation. It rotates all
elements rightwards, while moving the rightmost element into the
leftmost index. It can take the optional keyword argument anticlockwise
which if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> will rotate in the opposite direction.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">rotate</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[1, 2, 3, 4, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">anticlockwise</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">anticlockwise</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[1, 2, 3, 4, 0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>It is also possible to mirror two elements around a pivot at the centre
of the container; given an element (selected by its index), this
operation will locate and swap it for its complementary element. The
complementary element is defined as that one which is at a same
distance from the centre pivot but in the opposite direction.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[4, 1, 2, 3, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 3, 2, 1, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 3, 2, 1, 4]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To mirror a random pair of complementary elements, use the
<code class="docutils literal notranslate"><span class="pre">mirror_random()</span></code> method. In case of a container with an odd number
of elements, this method will never pick an element at the pivot point
since the operation would not change the contents.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror_random</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[4, 1, 2, 3, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror_random</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[4, 3, 2, 1, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">mirror_random</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[4, 1, 2, 3, 0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The method <code class="docutils literal notranslate"><span class="pre">randomise()</span></code> will randomise the position of the elements
of a container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[0, 1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">randomise</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[1, 4, 3, 0, 2]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The contents of a container can also be altered after it has been
initialised using the <code class="docutils literal notranslate"><span class="pre">set_container()</span></code> method. The length of the
container can change too.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="gp">... </span>                                        <span class="n">decay_rate</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="gp">... </span>                                        <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 0.5, 0.25, 0.125, 0.0625]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">set_container</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">32</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[10, 7, 14, 31, 98, 47, 32]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 0.5, 0.25, 0.125, 0.0625, 0.03125, 0.015625]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To method <code class="docutils literal notranslate"><span class="pre">replace_element()</span></code> replaces a specific element at a
specified index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[10, 7, 14, 31, 98]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">replace_element</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[10, 7, 100, 31, 98]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The attribute previous_index stores the previously selected index. It
can be used with the <code class="docutils literal notranslate"><span class="pre">get_element()</span></code> method in order to retrieve the
last value output by the object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="p">()</span>
<span class="go">31</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">previous_index</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="n">previous_index</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">previous_index</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">get_element</span><span class="p">(</span><span class="n">previous_index</span><span class="p">)</span>
<span class="go">31</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Individual elements are also accessible via indeces of the content
attribute. When accessed in this manner, they can also be sliced like a
regular list.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">CartographyContainer</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">14</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[7, 14, 31]</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="close-container">
<h2>close_container<a class="headerlink" href="#close-container" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.close_container">
<code class="descclassname">auxjad.</code><code class="descname">close_container</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.close_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the time signature of the last bar of an underfull
<code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> in order to make it full, if necessary.</p>
<div class="example docutils container">
<p>Returns the missing duration of the last bar of any container or child
class. If no time signature is encountered, it uses LilyPond’s
convention and considers the container as in 4/4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Handles any time signatures as well as changes of time signature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4 g&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 a2. \time 2/4 c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g1 ~ g4 \time 4/4 af&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    g&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    a2.</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 5/4 %%%</span>
<span class="go">    g1</span>
<span class="go">    ~</span>
<span class="go">    g4</span>
<span class="go">    %%% \time 2/4 %%%</span>
<span class="go">    af&#39;2</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Notice that the time signatures in the output are commented out with
<code class="docutils literal notranslate"><span class="pre">%%%</span></code>. This is because Abjad only applies time signatures to
containers that belong to a <code class="docutils literal notranslate"><span class="pre">abjad.Staff</span></code>. The present function works
with either <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> and <code class="docutils literal notranslate"><span class="pre">abjad.Staff</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4 g&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    g&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    \time 1/4</span>
<span class="go">    g&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Correctly handles partial time signatures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 g&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">partial</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">time_signature</span><span class="p">,</span> <span class="n">container</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \partial 4 %%%</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    g&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If a container is malformed, i.e. it has an underfilled bar before a
time signature change, the function raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exception.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g&#39;&#39;1 \time 4/4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">close_container</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">ValueError: &#39;container&#39; is malformed, with an underfull bar preceeding</span>
<span class="go">a time signature change</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="fill-with-rests">
<h2>fill_with_rests<a class="headerlink" href="#fill-with-rests" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.fill_with_rests">
<code class="descclassname">auxjad.</code><code class="descname">fill_with_rests</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.fill_with_rests" title="Permalink to this definition">¶</a></dt>
<dd><p>Fills an <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> with rests in order to make it full.</p>
<div class="example docutils container">
<p>Returns the missing duration of the last bar of any container or child
class. If no time signature is encountered, it uses LilyPond’s
convention and considers the container as in 4/4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    c&#39;4</span>
<span class="go">    r2.</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Handles any time signatures as well as changes of time signature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4 g&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 a2. \time 2/4 c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g1 ~ g4 \time 4/4 af&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    g&#39;4</span>
<span class="go">    r2.</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    a2.</span>
<span class="go">    %%% \time 2/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 5/4 %%%</span>
<span class="go">    g1</span>
<span class="go">    ~</span>
<span class="go">    g4</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    af&#39;2</span>
<span class="go">    r2</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Notice that the time signatures in the output are commented out with
<code class="docutils literal notranslate"><span class="pre">%%%.</span></code> This is because Abjad only applies time signatures to
containers that belong to a <code class="docutils literal notranslate"><span class="pre">abjad.Staff</span></code>. The present function works
with either <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> and <code class="docutils literal notranslate"><span class="pre">abjad.Staff</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4 g&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    g&#39;4</span>
<span class="go">    r2.</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    g&#39;4</span>
<span class="go">    r2.</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Correctly handles partial time signatures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 g&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">partial</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">time_signature</span><span class="p">,</span> <span class="n">container</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \partial 4 %%%</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    g&#39;4</span>
<span class="go">    r2</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If a container is malformed, i.e. it has an underfilled bar before a
time signature change, the function raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exception.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g&#39;&#39;1 \time 4/4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">fill_with_rests</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">ValueError: &#39;container&#39; is malformed, with an underfull bar preceeding</span>
<span class="go">a time signature change</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="is-container-full">
<h2>is_container_full<a class="headerlink" href="#is-container-full" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.is_container_full">
<code class="descclassname">auxjad.</code><code class="descname">is_container_full</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#auxjad.is_container_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if an <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> is full. Based on
<code class="docutils literal notranslate"><span class="pre">auxjad.underfull_duration</span></code>.</p>
<div class="example docutils container">
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the last bar of any container (or child class) is
full, otherwise returns <code class="docutils literal notranslate"><span class="pre">False</span></code>. If no time signature is encountered,
it uses LilyPond’s convention and considers the container as in 4/4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Handles any time signatures as well as changes of time signature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 a2. \time 2/4 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g1 ~ g4 \time 4/4 af&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 6/8 c&#39;2 ~ c&#39;8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Correctly handles partial time signatures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">partial</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">time_signature</span><span class="p">,</span> <span class="n">container</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>It also handles multi-measure rests.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;R1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 R1*3/4 \time 2/4 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 R1*5/4 \time 4/4 g&#39;&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 6/8 R1*1/2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If a container is malformed, i.e. it has an underfilled bar before a
time signature change, the function raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exception.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g&#39;&#39;1 \time 4/4 f&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">is_container_full</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">ValueError: &#39;container&#39; is malformed, with an underfull bar preceeding</span>
<span class="go">a time signature change</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="leafdynmaker">
<h2>LeafDynMaker<a class="headerlink" href="#leafdynmaker" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="auxjad.LeafDynMaker">
<em class="property">class </em><code class="descclassname">auxjad.</code><code class="descname">LeafDynMaker</code><span class="sig-paren">(</span><em>*</em>, <em>increase_monotonic: bool = None</em>, <em>forbidden_note_duration: Union[abjad.utilities.Duration.Duration</em>, <em>Tuple[int</em>, <em>int]] = None</em>, <em>forbidden_rest_duration: Union[abjad.utilities.Duration.Duration</em>, <em>Tuple[int</em>, <em>int]] = None</em>, <em>skips_instead_of_rests: bool = None</em>, <em>tag: abjad.system.Tag.Tag = None</em>, <em>use_multimeasure_rests: bool = None</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.LeafDynMaker" title="Permalink to this definition">¶</a></dt>
<dd><p>An extension of <code class="docutils literal notranslate"><span class="pre">abjad.LeafMaker</span></code> which can also take optional lists
of dynamics and articulations.</p>
<div class="example docutils container">
<p>Usage is similar to <code class="docutils literal notranslate"><span class="pre">abjad.LeafMaker</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynamics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;mp&#39;</span><span class="p">,</span> <span class="s1">&#39;mf&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;ff&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">articulations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leaf_dyn_maker</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LeafDynMaker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">leaf_dyn_maker</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">,</span> <span class="n">dynamics</span><span class="p">,</span> <span class="n">articulations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;32</span>
<span class="go">    \pp</span>
<span class="go">    -\staccato</span>
<span class="go">    d&#39;16</span>
<span class="go">    \p</span>
<span class="go">    -\accent</span>
<span class="go">    e&#39;16.</span>
<span class="go">    \mp</span>
<span class="go">    -\tenuto</span>
<span class="go">    f&#39;8</span>
<span class="go">    \mf</span>
<span class="go">    -\portato</span>
<span class="go">    g&#39;8</span>
<span class="go">    \f</span>
<span class="go">    -\marcato</span>
<span class="go">    ~</span>
<span class="go">    g&#39;32</span>
<span class="go">    a&#39;8.</span>
<span class="go">    \ff</span>
<span class="go">    -\stopped</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Tuple elements in <code class="docutils literal notranslate"><span class="pre">pitches</span></code> result in chords. None-valued elements
in <code class="docutils literal notranslate"><span class="pre">pitches</span></code> result in rests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynamics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">articulations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;staccato&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;tenuto&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leaf_dyn_maker</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LeafDynMaker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">leaf_dyn_maker</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">,</span> <span class="n">dynamics</span><span class="p">,</span> <span class="n">articulations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    f&#39;4</span>
<span class="go">    \p</span>
<span class="go">    -\staccato</span>
<span class="go">    r8</span>
<span class="go">    &lt;c&#39; d&#39; g&#39;&gt;16</span>
<span class="go">    \f</span>
<span class="go">    -\tenuto</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Can omit repeated dynamics with the keyword argument <code class="docutils literal notranslate"><span class="pre">no_repeat</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynamics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="s1">&#39;pp&#39;</span><span class="p">,</span> <span class="s1">&#39;mp&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leaf_dyn_maker</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LeafDynMaker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">leaf_dyn_maker</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">durations</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">dynamics</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">no_repeat</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;32</span>
<span class="go">    \pp</span>
<span class="go">    d&#39;16</span>
<span class="go">    e&#39;16.</span>
<span class="go">    \mp</span>
<span class="go">    f&#39;8</span>
<span class="go">    \f</span>
<span class="go">    g&#39;8</span>
<span class="go">    ~</span>
<span class="go">    g&#39;32</span>
<span class="go">    a&#39;8.</span>
<span class="go">    \p</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The lengths of both <code class="docutils literal notranslate"><span class="pre">dynamics</span></code> and <code class="docutils literal notranslate"><span class="pre">articulations</span></code> can be shorter
than the lengths of <code class="docutils literal notranslate"><span class="pre">pitches</span></code> and <code class="docutils literal notranslate"><span class="pre">durations</span></code> (whatever is the
greatest):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynamics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;ff&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">articulations</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leaf_dyn_maker</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LeafDynMaker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">leaf_dyn_maker</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">,</span> <span class="n">dynamics</span><span class="p">,</span> <span class="n">articulations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \p</span>
<span class="go">    -\staccato</span>
<span class="go">    d&#39;4</span>
<span class="go">    \f</span>
<span class="go">    -\accent</span>
<span class="go">    e&#39;4</span>
<span class="go">    \ff</span>
<span class="go">    f&#39;4</span>
<span class="go">    g&#39;4</span>
<span class="go">    a&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If the length of <code class="docutils literal notranslate"><span class="pre">articulations</span></code> is 1, it will apply to all elements.
If the length of <code class="docutils literal notranslate"><span class="pre">dynamics</span></code> is 1, it will apply to the first element
only:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dynamics</span> <span class="o">=</span> <span class="s1">&#39;p&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">articulations</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leaf_dyn_maker</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LeafDynMaker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">leaf_dyn_maker</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">,</span> <span class="n">dynamics</span><span class="p">,</span> <span class="n">articulations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \p</span>
<span class="go">    -\staccato</span>
<span class="go">    d&#39;4</span>
<span class="go">    -\staccato</span>
<span class="go">    e&#39;4</span>
<span class="go">    -\staccato</span>
<span class="go">    f&#39;4</span>
<span class="go">    -\staccato</span>
<span class="go">    g&#39;4</span>
<span class="go">    -\staccato</span>
<span class="go">    a&#39;4</span>
<span class="go">    -\staccato</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Similarly to Abjad’s native classes, it accepts many types of elements
in its input lists:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pitches</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s2">&quot;d&#39;&quot;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="s1">&#39;E4&#39;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">abjad</span><span class="o">.</span><span class="n">NumberedPitch</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>           <span class="n">abjad</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="s2">&quot;g&#39;&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="n">abjad</span><span class="o">.</span><span class="n">NamedPitch</span><span class="p">(</span><span class="s2">&quot;A4&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">durations</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>
<span class="gp">... </span>             <span class="s2">&quot;2/32&quot;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="n">abjad</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="s2">&quot;3/32&quot;</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">abjad</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mf">0.125</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">abjad</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">abjad</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mi">6</span><span class="o">/</span><span class="mi">32</span><span class="p">),</span>
<span class="gp">... </span>             <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leaf_dyn_maker</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LeafDynMaker</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">leaf_dyn_maker</span><span class="p">(</span><span class="n">pitches</span><span class="p">,</span> <span class="n">durations</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;32</span>
<span class="go">    d&#39;16</span>
<span class="go">    e&#39;16.</span>
<span class="go">    f&#39;8</span>
<span class="go">    g&#39;8</span>
<span class="go">    ~</span>
<span class="go">    g&#39;32</span>
<span class="go">    a&#39;8.</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="loopwindow">
<h2>LoopWindow<a class="headerlink" href="#loopwindow" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="auxjad.LoopWindow">
<em class="property">class </em><code class="descclassname">auxjad.</code><code class="descname">LoopWindow</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em>, <em>*</em>, <em>window_size: (&lt;class 'tuple'&gt;</em>, <em>&lt;class 'abjad.meter.Meter'&gt;) = (4</em>, <em>4)</em>, <em>step_size: (&lt;class 'int'&gt;</em>, <em>&lt;class 'float'&gt;</em>, <em>&lt;class 'tuple'&gt;</em>, <em>&lt;class 'str'&gt;</em>, <em>&lt;class 'abjad.utilities.Duration.Duration'&gt;) = (1</em>, <em>16)</em>, <em>max_steps: int = 1</em>, <em>repetition_chance: float = 0.0</em>, <em>forward_bias: float = 1.0</em>, <em>head_position: (&lt;class 'int'&gt;</em>, <em>&lt;class 'float'&gt;</em>, <em>&lt;class 'tuple'&gt;</em>, <em>&lt;class 'str'&gt;</em>, <em>&lt;class 'abjad.utilities.Duration.Duration'&gt;) = 0</em>, <em>omit_time_signature: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.LoopWindow" title="Permalink to this definition">¶</a></dt>
<dd><p>Using a looping window, this slices an input <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> and
output them as containers.</p>
<div class="example docutils container">
<p>Usage is similar to other factory classes. It takes a container (or
child class equivalent) as argument. Each call of the object, in this
case <code class="docutils literal notranslate"><span class="pre">looper()</span></code>, will move the window forwards and output the sliced
window. If no window_size nor step_size are entered as arguments, they
are set to the following default values, respectively: (4, 4), i.e. a
window of the size of a 4/4 bar, and (1, 16), i.e. a step of the length
of a sixteenth-note.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;8.</span>
<span class="go">    d&#39;16</span>
<span class="go">    ~</span>
<span class="go">    d&#39;4..</span>
<span class="go">    e&#39;16</span>
<span class="go">    ~</span>
<span class="go">    e&#39;8.</span>
<span class="go">    f&#39;16</span>
<span class="go">}</span>
</pre></div>
</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">get_current_window()</span></code> will output the current window
without moving the head forwards.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">get_current_window</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;8.</span>
<span class="go">    d&#39;16</span>
<span class="go">    ~</span>
<span class="go">    d&#39;4..</span>
<span class="go">    e&#39;16</span>
<span class="go">    ~</span>
<span class="go">    e&#39;8.</span>
<span class="go">    f&#39;16</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The optional arguments <code class="docutils literal notranslate"><span class="pre">window_size</span></code> and <code class="docutils literal notranslate"><span class="pre">step_size</span></code> can be used to
set different window and step sizes. <code class="docutils literal notranslate"><span class="pre">window_size</span></code> can take a tuple
or an <code class="docutils literal notranslate"><span class="pre">abjad.Meter</span></code> as input, while <code class="docutils literal notranslate"><span class="pre">step_size</span></code> takes a tuple or an
<code class="docutils literal notranslate"><span class="pre">abjad.Duration</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The instances of <code class="docutils literal notranslate"><span class="pre">LoopWindow</span></code> can also be used as an iterator, which
can then be used in a for loop to exhaust all windows. Notice how it
appends rests at the end of the container, until it is totally
exhausted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">window</span> <span class="ow">in</span> <span class="n">looper</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;8</span>
<span class="go">    d&#39;8</span>
<span class="go">    ~</span>
<span class="go">    d&#39;4.</span>
<span class="go">    e&#39;8</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;4.</span>
<span class="go">    e&#39;8</span>
<span class="go">    ~</span>
<span class="go">    e&#39;8</span>
<span class="go">    r8</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;8</span>
<span class="go">    e&#39;8</span>
<span class="go">    ~</span>
<span class="go">    e&#39;8</span>
<span class="go">    r4.</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    e&#39;4</span>
<span class="go">    r2</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    e&#39;8</span>
<span class="go">    r8</span>
<span class="go">    r2</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can take many optional keyword arguments during its
creation, besides <code class="docutils literal notranslate"><span class="pre">window_size</span></code> and <code class="docutils literal notranslate"><span class="pre">step_size</span></code>. <code class="docutils literal notranslate"><span class="pre">max_steps</span></code> sets
the maximum number of steps that the window can advance when the object
is called, ranging between 1 and the input value (default is also 1).
<code class="docutils literal notranslate"><span class="pre">repetition_chance</span></code> sets the chance of a window result repeating
itself (that is, the window not moving forwards when called). It should
range from 0.0 to 1.0 (default 0.0, i.e. no repetition).
<code class="docutils literal notranslate"><span class="pre">forward_bias</span></code> sets the chance of the window moving forward instead
of backwards. It should range from 0.0 to 1.0 (default 1.0, which means
the window can only move forwards. A value of 0.5 gives 50% chance of
moving forwards while a value of 0.0 will move the window only
backwards). Finally, <code class="docutils literal notranslate"><span class="pre">head_position</span></code> can be used to offset the
starting position of the looping window. It must be a tuple or an
<code class="docutils literal notranslate"><span class="pre">abjad.Duration</span></code>, and its default value is 0.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">max_steps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">repetition_chance</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">forward_bias</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">head_position</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">omit_time_signature</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">window_size</span>
<span class="go">3/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">step_size</span>
<span class="go">5/8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">repetition_chance</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">forward_bias</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">max_steps</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">head_position</span>
<span class="go">1/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">omit_time_signature</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">set_</span></code> methods below to change these values after
initialisation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_step_size</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_max_steps</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_repetition_chance</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_forward_bias</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_head_position</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_omit_time_signature</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">window_size</span>
<span class="go">5/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">step_size</span>
<span class="go">1/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">max_steps</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">repetition_chance</span>
<span class="go">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">forward_bias</span>
<span class="go">0.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">head_position</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">omit_time_signature</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To run through the whole process and output it as a single container,
from the initial head position until the process outputs the single
last element, use the method <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    r4</span>
<span class="go">    f&#39;4</span>
<span class="go">    r2</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>When using <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>, set the keyword argument
<code class="docutils literal notranslate"><span class="pre">tie_identical_pitches</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> in order to tie identical notes
or chords at the end and beginning of consecutive windows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 &lt;e&#39; f&#39; g&#39;&gt;2 r4 f&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">(</span><span class="n">tie_identical_pitches</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    &lt;e&#39; f&#39; g&#39;&gt;2</span>
<span class="go">    ~</span>
<span class="go">    &lt;e&#39; f&#39; g&#39;&gt;2</span>
<span class="go">    r4</span>
<span class="go">    &lt;e&#39; f&#39; g&#39;&gt;4</span>
<span class="go">    r4</span>
<span class="go">    f&#39;4</span>
<span class="go">    r4</span>
<span class="go">    f&#39;2</span>
<span class="go">    ~</span>
<span class="go">    f&#39;2.</span>
<span class="go">    ~</span>
<span class="go">    f&#39;2</span>
<span class="go">    r4</span>
<span class="go">    f&#39;4</span>
<span class="go">    r2</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To run through just part of the process and output it as a single
container, starting from the initial head position, use the method
<code class="docutils literal notranslate"><span class="pre">output_n()</span></code> and pass the number of iterations as argument. Similarly
to <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>, the keyword argument <code class="docutils literal notranslate"><span class="pre">tie_identical_pitches</span></code> is
available for tying pitches.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To change the size of the looping window after instantiation, use the
method <code class="docutils literal notranslate"><span class="pre">set_window_size()</span></code>. In the example below, the initial window
is of size (4, 4), but changes to (3, 8) after three calls. Notice how
the very first call attaches a time signature equivalent to the window
size to the output window; subsequent calls will not have time
signatures unless the size of the looping window changes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;8.</span>
<span class="go">    d&#39;16</span>
<span class="go">    ~</span>
<span class="go">    d&#39;4..</span>
<span class="go">    e&#39;16</span>
<span class="go">    ~</span>
<span class="go">    e&#39;8.</span>
<span class="go">    f&#39;16</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;8</span>
<span class="go">    d&#39;8</span>
<span class="go">    ~</span>
<span class="go">    d&#39;4.</span>
<span class="go">    e&#39;8</span>
<span class="go">    ~</span>
<span class="go">    e&#39;8</span>
<span class="go">    f&#39;8</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;16</span>
<span class="go">    d&#39;16</span>
<span class="go">    ~</span>
<span class="go">    d&#39;4</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;4.</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    d&#39;4.</span>
<span class="go">}</span>
</pre></div>
</div>
<p>To disable time signatures altogether, initialise <code class="docutils literal notranslate"><span class="pre">LoopWindow</span></code> with
the keyword argument <code class="docutils literal notranslate"><span class="pre">omit_time_signature</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (default
is <code class="docutils literal notranslate"><span class="pre">False</span></code>), or use the <code class="docutils literal notranslate"><span class="pre">set_omit_time_signature()</span></code> method after
initialisation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span> <span class="n">omit_time_signature</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can handle tuplets, but this functionality should be
considered experimental.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\times 2/3 {c&#39;8 d&#39;8 e&#39;} d&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindow</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="n">window_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span>                           <span class="n">step_size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">window</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">staff</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        \time 3/4</span>
<span class="go">        c&#39;8</span>
<span class="go">        d&#39;8</span>
<span class="go">        e&#39;8</span>
<span class="go">    }</span>
<span class="go">    d&#39;2</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        c&#39;32</span>
<span class="go">        d&#39;16</span>
<span class="go">        ~</span>
<span class="go">        d&#39;16</span>
<span class="go">        e&#39;8</span>
<span class="go">    }</span>
<span class="go">    d&#39;16</span>
<span class="go">    ~</span>
<span class="go">    d&#39;2</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        d&#39;16</span>
<span class="go">        e&#39;8</span>
<span class="go">    }</span>
<span class="go">    d&#39;8</span>
<span class="go">    ~</span>
<span class="go">    d&#39;2</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="loopwindowbyelements">
<h2>LoopWindowByElements<a class="headerlink" href="#loopwindowbyelements" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="auxjad.LoopWindowByElements">
<em class="property">class </em><code class="descclassname">auxjad.</code><code class="descname">LoopWindowByElements</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em>, <em>*</em>, <em>window_size: int</em>, <em>step_size: int = 1</em>, <em>max_steps: int = 1</em>, <em>repetition_chance: float = 0.0</em>, <em>forward_bias: float = 1.0</em>, <em>head_position: int = 0</em>, <em>omit_time_signature: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.LoopWindowByElements" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> as input as well as an integer
representing the number of elements per looping window, then outputs a
container with the elements processed in the looping process. For instance,
if the initial container had the leaves <code class="docutils literal notranslate"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">C,</span> <span class="pre">D,</span> <span class="pre">E,</span> <span class="pre">F]</span></code> and the
looping window was size three, the output would be:</p>
<p><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">B</span> <span class="pre">C</span> <span class="pre">B</span> <span class="pre">C</span> <span class="pre">D</span> <span class="pre">C</span> <span class="pre">D</span> <span class="pre">E</span> <span class="pre">D</span> <span class="pre">E</span> <span class="pre">F</span> <span class="pre">E</span> <span class="pre">F</span> <span class="pre">F</span></code></p>
<p>This can be better visualised as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>A B C
  B C D
    C D E
      D E F
        E F
          F
</pre></div>
</div>
<div class="example docutils container">
<p>Usage is similar to other factory classes. It takes a container (or
child class equivalent) and the number of elements of the window as
arguments. Each call of the object, in this case <code class="docutils literal notranslate"><span class="pre">looper()</span></code>, will
move the window forwards and output the result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 11/8</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;2</span>
<span class="go">    ~</span>
<span class="go">    f&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">get_current_window()</span></code> will output the current window
without moving the head forwards.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">get_current_window</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 11/8</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;2</span>
<span class="go">    ~</span>
<span class="go">    f&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The instances of <code class="docutils literal notranslate"><span class="pre">LoopWindowByElements</span></code> can also be used as an
iterator, which can then be used in a for loop to exhaust all windows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">window</span> <span class="ow">in</span> <span class="n">looper</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 1/4</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can take many optional keyword arguments during its
creation. <code class="docutils literal notranslate"><span class="pre">step_size</span></code> dictates the size of each individual step in
number of elements (default value is 1). <code class="docutils literal notranslate"><span class="pre">max_steps</span></code> sets the maximum
number of steps that the window can advance when the object is called,
ranging between 1 and the input value (default is also 1).
<code class="docutils literal notranslate"><span class="pre">repetition_chance</span></code> sets the chance of a window result repeating
itself (that is, the window not moving forwards when called). It should
range from 0.0 to 1.0 (default 0.0, i.e. no repetition).
<code class="docutils literal notranslate"><span class="pre">forward_bias</span></code> sets the chance of the window moving forward instead
of backwards. It should range from 0.0 to 1.0 (default 1.0, which means
the window can only move forwards. A value of 0.5 gives 50% chance of
moving forwards while a value of 0.0 will move the window only
backwards). Finally, <code class="docutils literal notranslate"><span class="pre">head_position</span></code> can be used to offset the
starting position of the looping window. It must be an integer and its
default value is 0.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">step_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">max_steps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">repetition_chance</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">forward_bias</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">head_position</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">window_size</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">step_size</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">repetition_chance</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">forward_bias</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">max_steps</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">head_position</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">set_</span></code> methods below to change these values after
initialisation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_step_size</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_max_steps</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_repetition_chance</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_forward_bias</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_head_position</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">window_size</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">step_size</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">max_steps</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">repetition_chance</span>
<span class="go">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">forward_bias</span>
<span class="go">0.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">head_position</span>
<span class="go">2</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To disable time signatures altogether, initialise
<code class="docutils literal notranslate"><span class="pre">LoopWindowByElements</span></code> with the keyword argument
<code class="docutils literal notranslate"><span class="pre">omit_time_signature</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (default is <code class="docutils literal notranslate"><span class="pre">False</span></code>), or use
the <code class="docutils literal notranslate"><span class="pre">set_omit_time_signature()</span></code> method after initialisation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">omit_time_signature</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The function <code class="docutils literal notranslate"><span class="pre">len()</span></code> can be used to get the total number of elements
in the container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">looper</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To run through the whole process and output it as a single container,
from the initial head position until the process outputs the single
last element, use the method <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 2/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    \time 2/4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    \time 2/4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    \time 1/4</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>When using <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>, set the keyword argument
<code class="docutils literal notranslate"><span class="pre">tie_identical_pitches</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> in order to tie identical notes
or chords at the end and beginning of consecutive windows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 r8 d&#39;4 &lt;e&#39; g&#39;&gt;8 r4 f&#39;2. &quot;</span>
<span class="gp">... </span>                              <span class="s2">&quot;&lt;e&#39; g&#39;&gt;16&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">music</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">(</span><span class="n">tie_identical_pitches</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">music</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 9/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    r8</span>
<span class="go">    d&#39;4</span>
<span class="go">    ~</span>
<span class="go">    \time 4/4</span>
<span class="go">    d&#39;2</span>
<span class="go">    r8</span>
<span class="go">    d&#39;4</span>
<span class="go">    &lt;e&#39; g&#39;&gt;8</span>
<span class="go">    \time 3/4</span>
<span class="go">    r8</span>
<span class="go">    d&#39;4</span>
<span class="go">    &lt;e&#39; g&#39;&gt;8</span>
<span class="go">    r4</span>
<span class="go">    \time 11/8</span>
<span class="go">    d&#39;4</span>
<span class="go">    &lt;e&#39; g&#39;&gt;8</span>
<span class="go">    r4</span>
<span class="go">    f&#39;2.</span>
<span class="go">    \time 19/16</span>
<span class="go">    &lt;e&#39; g&#39;&gt;8</span>
<span class="go">    r4</span>
<span class="go">    f&#39;2.</span>
<span class="go">    &lt;e&#39; g&#39;&gt;16</span>
<span class="go">    \time 17/16</span>
<span class="go">    r4</span>
<span class="go">    f&#39;2.</span>
<span class="go">    &lt;e&#39; g&#39;&gt;16</span>
<span class="go">    \time 13/16</span>
<span class="go">    f&#39;2.</span>
<span class="go">    &lt;e&#39; g&#39;&gt;16</span>
<span class="go">    ~</span>
<span class="go">    \time 1/16</span>
<span class="go">    &lt;e&#39; g&#39;&gt;16</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To run through just part of the process and output it as a single
container, starting from the initial head position, use the method
<code class="docutils literal notranslate"><span class="pre">output_n()</span></code> and pass the number of iterations as argument. Similarly
to <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>, the keyword argument <code class="docutils literal notranslate"><span class="pre">tie_identical_pitches</span></code> is
available for tying pitches.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 2/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    \time 2/4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To change the size of the window after instantiation, use the method
<code class="docutils literal notranslate"><span class="pre">set_window_size()</span></code>. In the example below, the initial window is of
size 3, and so the first call of the looper object outputs the first,
second, and third leaves. The window size is then set to 4, and the
looper is called again, moving to the leaf in the next position, thus
outputting the second, third, fourth, and fifth leaves.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;2 e&#39;4 f&#39;2 ~ f&#39;8 g&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">notes</span> <span class="o">=</span> <span class="n">looper</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">notes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 19/8</span>
<span class="go">    d&#39;2</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;2</span>
<span class="go">    ~</span>
<span class="go">    f&#39;8</span>
<span class="go">    g&#39;1</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can handle tuplets, but the output is not ideal and so this
functionality should be considered experimental. Time signatures will
be correct when dealing with partial tuplets (thus having non-standard
values in their denominators), but each individual note of a tuplet
will have the ratio printed above it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_music</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;8 \times 2/3 {a4 g2}&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByElements</span><span class="p">(</span><span class="n">input_music</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="n">window_size</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                     <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">window</span> <span class="o">=</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">    #(ly:expect-warning &quot;strange time signature found&quot;)</span>
<span class="go">    \time 7/24</span>
<span class="go">    d&#39;8</span>
<span class="go">    \tweak edge-height #&#39;(0.7 . 0)</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        a4</span>
<span class="go">    }</span>
<span class="go">    \tweak edge-height #&#39;(0.7 . 0)</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        \time 2/4</span>
<span class="go">        a4</span>
<span class="go">    }</span>
<span class="go">    \tweak edge-height #&#39;(0.7 . 0)</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        g2</span>
<span class="go">    }</span>
<span class="go">    \tweak edge-height #&#39;(0.7 . 0)</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        #(ly:expect-warning &quot;strange time signature found&quot;)</span>
<span class="go">        \time 2/6</span>
<span class="go">        g2</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="loopwindowbylist">
<h2>LoopWindowByList<a class="headerlink" href="#loopwindowbylist" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="auxjad.LoopWindowByList">
<em class="property">class </em><code class="descclassname">auxjad.</code><code class="descname">LoopWindowByList</code><span class="sig-paren">(</span><em>container: list</em>, <em>*</em>, <em>window_size: int</em>, <em>step_size: int = 1</em>, <em>max_steps: int = 1</em>, <em>repetition_chance: float = 0.0</em>, <em>forward_bias: float = 1.0</em>, <em>head_position: int = 0</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.LoopWindowByList" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to <code class="docutils literal notranslate"><span class="pre">LoopWindowByList</span></code>, but instead of taking an
<code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> input, it takes a list of arbitrary size. It then
outputs the list elements, whatever they may be. The list elements can be
<code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code>’s, but they can also be anything else, thus being more
general. Takes a list as input as well as an integer representing the
number of elements per looping window, then outputs individual elements
with according to the looping process. For instance, if the initial list
had the elements <code class="docutils literal notranslate"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">C,</span> <span class="pre">D,</span> <span class="pre">E,</span> <span class="pre">F]</span></code> and the looping window was size
three, the output would be:</p>
<p><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">B</span> <span class="pre">C</span> <span class="pre">B</span> <span class="pre">C</span> <span class="pre">D</span> <span class="pre">C</span> <span class="pre">D</span> <span class="pre">E</span> <span class="pre">D</span> <span class="pre">E</span> <span class="pre">F</span> <span class="pre">E</span> <span class="pre">F</span> <span class="pre">F</span></code></p>
<p>This can be better visualised as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>A B C
  B C D
    C D E
      D E F
        E F
          F
</pre></div>
</div>
<div class="example docutils container">
<p>It takes a list and the number of elements of the window as arguments.
Each call of the object, in this case <code class="docutils literal notranslate"><span class="pre">looper()</span></code>, will move the
window forwards and output the result:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="p">()</span>
<span class="go">[&#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span>
</pre></div>
</div>
<p>The method get_current_window() will output the current window without
moving the head forwards.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">get_current_window</span><span class="p">()</span>
<span class="go">[&#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The instances of <code class="docutils literal notranslate"><span class="pre">LoopWindowByList</span></code> can also be used as an iterator,
which can then be used in a for loop to exhaust all windows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">window</span> <span class="ow">in</span> <span class="n">looper</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>
<span class="go">[&#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span>
<span class="go">[&#39;C&#39;, &#39;D&#39;, &#39;E&#39;]</span>
<span class="go">[&#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span>
<span class="go">[&#39;E&#39;, &#39;F&#39;]</span>
<span class="go">[&#39;F&#39;]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can take many optional keyword arguments during its
creation. <code class="docutils literal notranslate"><span class="pre">step_size</span></code> dictates the size of each individual step in
number of elements (default value is 1). <code class="docutils literal notranslate"><span class="pre">max_steps</span></code> sets the maximum
number of steps that the window can advance when the object is called,
ranging between 1 and the input value (default is also 1).
<code class="docutils literal notranslate"><span class="pre">repetition_chance</span></code> sets the chance of a window result repeating
itself (that is, the window not moving forwards when called). It should
range from 0.0 to 1.0 (default 0.0, i.e. no repetition). 
<code class="docutils literal notranslate"><span class="pre">forward_bias</span></code> sets the chance of the window moving forward instead
of backwards. It should range from 0.0 to 1.0 (default 1.0, which means
the window can only move forwards. A value of 0.5 gives 50% chance of
moving forwards while a value of 0.0 will move the window only
backwards). Finally, <code class="docutils literal notranslate"><span class="pre">head_position</span></code> can be used to offset the
starting position of the looping window (default is 0).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">step_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">max_steps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">repetition_chance</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">forward_bias</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="n">head_position</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">window_size</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">step_size</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">repetition_chance</span>
<span class="go">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">forward_bias</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">max_steps</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">head_position</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">set_</span></code> methods below to change these values after
initialisation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_step_size</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_max_steps</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_repetition_chance</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_forward_bias</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_head_position</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">window_size</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">step_size</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">max_steps</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">repetition_chance</span>
<span class="go">0.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">forward_bias</span>
<span class="go">0.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">head_position</span>
<span class="go">2</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The function <code class="docutils literal notranslate"><span class="pre">len()</span></code> can be used to get the total number of elements
in the container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">looper</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To run through just part of the process and output it as a single
list, starting from the initial head position, use the method
<code class="docutils literal notranslate"><span class="pre">output_n()</span></code> and pass the number of iterations as argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">output_n</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To run through the whole process and output it as a single list, from
the initial head position until the process outputs the single last
element, use the method <code class="docutils literal notranslate"><span class="pre">output_all()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;C&#39;, &#39;D&#39;, &#39;D&#39;]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To change the size of the window after instantiation, use the method
<code class="docutils literal notranslate"><span class="pre">set_window_size()</span></code>. In the example below, the initial window is of
size 3, and so the first call of the looper object outputs the first,
second, and third elements of the list. The window size is then set to
4, and the looper is called again, moving to the element in the next
position, thus outputting the second, third, fourth, and fifth
elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="o">.</span><span class="n">set_window_size</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="p">()</span>
<span class="go">[&#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>It should be clear that the list can contain any types of elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mf">3.14</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span><span class="p">()</span>
<span class="go">[123, &#39;foo&#39;, (3, 4)]</span>
</pre></div>
</div>
<p>This also include Abjad’s types. Abjad’s exclusive membership
requirement is respected since each call returns a <code class="docutils literal notranslate"><span class="pre">copy.deepcopy</span></code> of
the window. The same is true to the <code class="docutils literal notranslate"><span class="pre">output_all()</span></code> method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">abjad</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_list</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;fs&#39;1&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;r2 bf2&quot;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;&#39;2. r4&quot;</span><span class="p">),</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">looper</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">LoopWindowByList</span><span class="p">(</span><span class="n">input_list</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">looper</span><span class="o">.</span><span class="n">output_all</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">staff</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    {</span>
<span class="go">        c&#39;4</span>
<span class="go">        d&#39;4</span>
<span class="go">        e&#39;4</span>
<span class="go">        f&#39;4</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        fs&#39;1</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        r2</span>
<span class="go">        bf2</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        fs&#39;1</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        r2</span>
<span class="go">        bf2</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        c&#39;&#39;2.</span>
<span class="go">        r4</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        r2</span>
<span class="go">        bf2</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        c&#39;&#39;2.</span>
<span class="go">        r4</span>
<span class="go">    }</span>
<span class="go">    {</span>
<span class="go">        c&#39;&#39;2.</span>
<span class="go">        r4</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="remove-repeated-dynamics">
<h2>remove_repeated_dynamics<a class="headerlink" href="#remove-repeated-dynamics" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.remove_repeated_dynamics">
<code class="descclassname">auxjad.</code><code class="descname">remove_repeated_dynamics</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em>, <em>*</em>, <em>ignore_hairpins: bool = False</em>, <em>reset_after_rests: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.remove_repeated_dynamics" title="Permalink to this definition">¶</a></dt>
<dd><p>A function which removes all consecutive repeated dynamics. It removes
consecutive effective dynamics, even if separated by any number of
notes without one. It resets its memory of what was the previous dynamic
every time it finds a hairpin, since notation such as <code class="docutils literal notranslate"><span class="pre">&quot;c'4\f\&gt;</span> <span class="pre">c'4\f\&gt;&quot;</span></code>
is quite common; this behaviour can be toggled off using the
<code class="docutils literal notranslate"><span class="pre">ignore_hairpins</span></code> keyword argument. By default, it remembers the previous
dynamic even with notes separated by rests; this can be toggled off using
<code class="docutils literal notranslate"><span class="pre">reset_after_rests=True</span></code>. To set a maximum length of silence after which
dynamics are restated, set <code class="docutils literal notranslate"><span class="pre">reset_after_rests</span></code> to a duration using
<code class="docutils literal notranslate"><span class="pre">abjad.Duration()</span></code> or any other duration format accepted by Abjad.</p>
<div class="example docutils container">
<p>When two consecutive leaves have identical dynamics, the second
one is removed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp d&#39;8\pp | c&#39;4\f d&#39;8\f&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    d&#39;8</span>
<span class="go">    \pp</span>
<span class="go">    c&#39;4</span>
<span class="go">    \f</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    d&#39;8</span>
<span class="go">    c&#39;4</span>
<span class="go">    \f</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The function also removes dynamics that are separated by an arbitrary
number of leaves without dynamics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\p d&#39;8 | e&#39;4.\p | c&#39;4\p d&#39;8\f&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \p</span>
<span class="go">    d&#39;8</span>
<span class="go">    e&#39;4.</span>
<span class="go">    \p</span>
<span class="go">    c&#39;4</span>
<span class="go">    \p</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \p</span>
<span class="go">    d&#39;8</span>
<span class="go">    e&#39;4.</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The input container can also handle subcontainers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s2">&quot;c&#39;2&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span><span class="s2">&quot;&lt;d&#39; f&#39;&gt;2&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="n">abjad</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s2">&quot;g2 a2 b2&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">(</span><span class="s1">&#39;ppp&#39;</span><span class="p">),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">(</span><span class="s1">&#39;ppp&#39;</span><span class="p">),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">Dynamic</span><span class="p">(</span><span class="s1">&#39;ppp&#39;</span><span class="p">),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;2</span>
<span class="go">    \ppp</span>
<span class="go">    &lt;d&#39; f&#39;&gt;2</span>
<span class="go">    \ppp</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        g2</span>
<span class="go">        \ppp</span>
<span class="go">        a2</span>
<span class="go">        b2</span>
<span class="go">    }</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;2</span>
<span class="go">    \ppp</span>
<span class="go">    &lt;d&#39; f&#39;&gt;2</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        g2</span>
<span class="go">        a2</span>
<span class="go">        b2</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>By default, repeated dynamics with hairpins in between are not removed,
but consecutive ones will.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp\&lt; d&#39;8\f\&gt; | c&#39;4\f d&#39;8\f&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    \&lt;</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">    \&gt;</span>
<span class="go">    c&#39;4</span>
<span class="go">    \f</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    \&lt;</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">    \&gt;</span>
<span class="go">    c&#39;4</span>
<span class="go">    \f</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
<p>To override the previous behaviour, set <code class="docutils literal notranslate"><span class="pre">ignore_hairpins=True</span></code> and
hairpins will be ignored.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp\&lt; d&#39;8\f\&gt; | c&#39;4\f d&#39;8\f&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    \&lt;</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">    \&gt;</span>
<span class="go">    c&#39;4</span>
<span class="go">    \f</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">ignore_hairpins</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    \&lt;</span>
<span class="go">    d&#39;8</span>
<span class="go">    \f</span>
<span class="go">    \&gt;</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>By default, rests are treated just like any other leaf and thus notes
with an identical dynamic separated by an arbitrary number of rests
will be considered as repeated and the second dynamic will be removed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp r2. | c&#39;4\pp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    r2.</span>
<span class="go">    c&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
<p>To override the previous behaviour, set <code class="docutils literal notranslate"><span class="pre">reset_after_rests=True</span></code> and
dynamics will always be restated after a rest.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp r2. | c&#39;4\pp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">reset_after_rests</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    r2.</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The argument <code class="docutils literal notranslate"><span class="pre">reset_after_rests</span></code> takes not only boolean values but
also duration (<code class="docutils literal notranslate"><span class="pre">abjad.Duration</span></code>, tuple, float, etc.). This sets the
maximum length of rests before which identical dynamics are restated.
If the total length of rests falls below that value, then repeated
dynamics are removed.</p>
<p>In the case below, a rest of <code class="docutils literal notranslate"><span class="pre">r2</span></code>. is shorter than a duration of
(4, 4), so the repeated dynamic is removed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp r2. | c&#39;4\pp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">reset_after_rests</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    r2.</span>
<span class="go">    c&#39;4</span>
<span class="go">}</span>
</pre></div>
</div>
<p>But setting the duration to 2/4 forces the dynamic to be restated.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp r2. | c&#39;4\pp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span><span class="n">staff</span><span class="p">,</span> <span class="n">reset_after_rests</span><span class="o">=</span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    r2.</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The function also handles measure rests with <code class="docutils literal notranslate"><span class="pre">reset_after_rests</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4\pp r2. | R1 | c&#39;4\pp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_dynamics</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">staff</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">reset_after_rests</span><span class="o">=</span><span class="n">abjad</span><span class="o">.</span><span class="n">Duration</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">    r2.</span>
<span class="go">    R1</span>
<span class="go">    c&#39;4</span>
<span class="go">    \pp</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="remove-repeated-time-signatures">
<h2>remove_repeated_time_signatures<a class="headerlink" href="#remove-repeated-time-signatures" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.remove_repeated_time_signatures">
<code class="descclassname">auxjad.</code><code class="descname">remove_repeated_time_signatures</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em><span class="sig-paren">)</span> &#x2192; abjad.core.Container.Container<a class="headerlink" href="#auxjad.remove_repeated_time_signatures" title="Permalink to this definition">¶</a></dt>
<dd><p>A function which removes all unecessary time signatures. It removes
consecutive effective time signatures, even if separated by any number of
bars with no time signature.</p>
<div class="example docutils container">
<p>When two consecutive bars have identical time signatures, the second
one is removed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;8 | c&#39;4 d&#39;8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The function also removes time signatures that are separated by an
arbitrary number of bars without one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;8 e&#39;4. c&#39;4 d&#39;8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">)),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">    e&#39;4.</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 3/8</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">    e&#39;4.</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;8</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The input container can also handle subcontainers, including cases in
which the time signatures are attached to leaves of subcontainers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">abjad</span><span class="o">.</span><span class="n">Note</span><span class="p">(</span><span class="s2">&quot;c&#39;2&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="n">abjad</span><span class="o">.</span><span class="n">Chord</span><span class="p">(</span><span class="s2">&quot;&lt;d&#39; f&#39;&gt;2&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="n">abjad</span><span class="o">.</span><span class="n">Tuplet</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="s2">&quot;g2 a2 b2&quot;</span><span class="p">),</span>
<span class="gp">... </span>                     <span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">staff</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 2/2</span>
<span class="go">    c&#39;2</span>
<span class="go">    &lt;d&#39; f&#39;&gt;2</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        \time 2/2</span>
<span class="go">        g2</span>
<span class="go">        a2</span>
<span class="go">        b2</span>
<span class="go">    }</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">remove_repeated_time_signatures</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">staff</span><span class="p">)</span>
<span class="go">\new Staff</span>
<span class="go">{</span>
<span class="go">    \time 2/2</span>
<span class="go">    c&#39;2</span>
<span class="go">    &lt;d&#39; f&#39;&gt;2</span>
<span class="go">    \times 2/3 {</span>
<span class="go">        g2</span>
<span class="go">        a2</span>
<span class="go">        b2</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="simplified-time-signature-ratio">
<h2>simplified_time_signature_ratio<a class="headerlink" href="#simplified-time-signature-ratio" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.simplified_time_signature_ratio">
<code class="descclassname">auxjad.</code><code class="descname">simplified_time_signature_ratio</code><span class="sig-paren">(</span><em>ratio: (&lt;class 'tuple'&gt;</em>, <em>&lt;class 'abjad.utilities.Duration.Duration'&gt;</em>, <em>&lt;class 'abjad.indicators.TimeSignature.TimeSignature'&gt;)</em>, <em>*</em>, <em>min_denominator: int = 4</em><span class="sig-paren">)</span> &#x2192; tuple<a class="headerlink" href="#auxjad.simplified_time_signature_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>A function simplifies the ratio of a given time signature respecting a
minimum denominator value. Input is a tuple of two integers.</p>
<div class="example docutils container">
<p>By default, the function simplifies the ratio of numerator/denominator
using a minimum denominator value of 4 (that is, the denominator will
not get smaller than 4). In the case below, (2, 4) is the simplest
representation of the ratio (4, 8) with a denominator equal to or
larger than 4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">simplified_time_signature_ratio</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">time_signature</span><span class="p">)</span>
<span class="go">abjad.TimeSignature((2, 4))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">simplified_time_signature_ratio</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">time_signature</span><span class="p">)</span>
<span class="go">abjad.TimeSignature((4, 4))</span>
</pre></div>
</div>
<p>If a ratio cannot be simplified at all, the function returns the
original values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">simplified_time_signature_ratio</span><span class="p">((</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">time_signature</span><span class="p">)</span>
<span class="go">abjad.TimeSignature((7, 8))</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">min_denominator</span></code> can be set to values other than 4. If set to 2,
the simplest representaion of the ratio (4, 8) becomes (1, 2).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">simplified_time_signature_ratio</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>                                               <span class="n">min_denominator</span><span class="o">=</span><span class="mi">2</span>
<span class="gp">... </span>                                               <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">time_signature</span><span class="p">)</span>
<span class="go">abjad.TimeSignature((1, 2))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">simplified_time_signature_ratio</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>                                               <span class="n">min_denominator</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">... </span>                                               <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">(</span><span class="n">ratio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">format</span><span class="p">(</span><span class="n">time_signature</span><span class="p">)</span>
<span class="go">abjad.TimeSignature((1, 1))</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="sync-containers">
<h2>sync_containers<a class="headerlink" href="#sync-containers" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.sync_containers">
<code class="descclassname">auxjad.</code><code class="descname">sync_containers</code><span class="sig-paren">(</span><em>*containers</em>, <em>use_multimeasure_rests: bool = True</em>, <em>adjust_last_time_signature: bool = True</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.sync_containers" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an arbitrary number of <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code>’s (or child classes),
finds the longest one and adds rests to all the shorter ones, making them
the same length. By default, it rewrites the last time signature if
necessary, and uses multi-measure rests whenever possible.</p>
<div class="example docutils container">
<p>Input two or more containers. This function will fill the shortest ones
with rests ensuring all their lengths become the same.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 g&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    g&#39;2.</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Notice that the time signatures in the output are commented out with
<code class="docutils literal notranslate"><span class="pre">%%%</span></code>. This is because Abjad only applies time signatures to
containers that belong to a <code class="docutils literal notranslate"><span class="pre">abjad.Staff</span></code>. The present function works
with either <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> and <code class="docutils literal notranslate"><span class="pre">abjad.Staff</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 g&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    g&#39;2.</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staff</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    \time 4/4</span>
<span class="go">    g&#39;2.</span>
<span class="go">    r4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If all containers have the same size, no modification is applied.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 g&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 c&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    g&#39;2.</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    c&#39;2.</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>By default, this function closes the longest container by rewriting the
time signature of its last bar if necessary (if it is underfull), and
uses multi-measure rests whenever possible.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 g&#39;1 | f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    g&#39;1</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    R1*1/4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To disable multi-measure rests, set the keyword argument
<code class="docutils literal notranslate"><span class="pre">use_multimeasure_rests</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 g&#39;1 | f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container2</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">use_multimeasure_rests</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    g&#39;1</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    r4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To allow containers to be left open (with underfull bars), set the
keyword argument <code class="docutils literal notranslate"><span class="pre">adjust_last_time_signature</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 g&#39;1 | f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container2</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">adjust_last_time_signature</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    g&#39;1</span>
<span class="go">    f&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    r4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This function can take an arbitrary number of containers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1 | g&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1 | g&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1 | g&#39;2.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container2</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container3</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container4</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    g&#39;4</span>
<span class="go">    r2</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    g&#39;2</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    g&#39;2.</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;1</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    R1*3/4</span>
<span class="go">}</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The containers can be of different length, can have different time
signatures, and can contain time signature changes as well.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 a2. \time 4/4 c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g&#39;&#39;1 ~ g&#39;&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 6/8 c&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container2</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container3</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container4</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 4/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    d&#39;4</span>
<span class="go">    e&#39;4</span>
<span class="go">    f&#39;4</span>
<span class="go">    %%% \time 1/4 %%%</span>
<span class="go">    R1*1/4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 3/4 %%%</span>
<span class="go">    a2.</span>
<span class="go">    %%% \time 2/4 %%%</span>
<span class="go">    c&#39;4</span>
<span class="go">    r4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 5/4 %%%</span>
<span class="go">    g&#39;&#39;1</span>
<span class="go">    ~</span>
<span class="go">    g&#39;&#39;4</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    %%% \time 6/8 %%%</span>
<span class="go">    c&#39;2</span>
<span class="go">    r4</span>
<span class="go">    %%% \time 2/4 %%%</span>
<span class="go">    R1*1/2</span>
<span class="go">}</span>
</pre></div>
</div>
<p>It’s important to note that LilyPond does not support simultanoues
staves with different time signatures (i.e. polymetric notation) by
default. In order to enable it, the <code class="docutils literal notranslate"><span class="pre">&quot;Timing_translator&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;Default_bar_line_engraver&quot;</span></code> must be removed from the <code class="docutils literal notranslate"><span class="pre">Score</span></code>
context and added to the <code class="docutils literal notranslate"><span class="pre">Staff</span></code> context. Below is a full example of
how this can be accomplished using Abjad.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 a2. \time 4/4 c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g&#39;&#39;1 ~ g&#39;&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 6/8 c&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container2</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container3</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">container4</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">staves</span> <span class="o">=</span> <span class="p">[</span><span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container1</span><span class="p">]),</span>
<span class="gp">... </span>          <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container2</span><span class="p">]),</span>
<span class="gp">... </span>          <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container3</span><span class="p">]),</span>
<span class="gp">... </span>          <span class="n">abjad</span><span class="o">.</span><span class="n">Staff</span><span class="p">([</span><span class="n">container4</span><span class="p">]),</span>
<span class="gp">... </span>          <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Score</span><span class="p">(</span><span class="n">staves</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lilypond_file</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">LilyPondFile</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_block</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;score&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout_block</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;layout&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_block</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">score_block</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">layout_block</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lilypond_file</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">score_block</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layout_block</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<span class="gp">... </span>    <span class="sa">r</span><span class="sd">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="sd">    \context {</span>
<span class="gp">... </span><span class="sd">        \Score</span>
<span class="gp">... </span><span class="sd">        \remove &quot;Timing_translator&quot;</span>
<span class="gp">... </span><span class="sd">        \remove &quot;Default_bar_line_engraver&quot;</span>
<span class="gp">... </span><span class="sd">    }</span>
<span class="gp">... </span><span class="sd">    \context {</span>
<span class="gp">... </span><span class="sd">        \Staff</span>
<span class="gp">... </span><span class="sd">        \consists &quot;Timing_translator&quot;</span>
<span class="gp">... </span><span class="sd">        \consists &quot;Default_bar_line_engraver&quot;</span>
<span class="gp">... </span><span class="sd">    }</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">lilypond_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If one or more containers is malformed, i.e. it has an underfilled bar
before a time signature change, the function raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>
exception.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 g&#39;1 | f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 c&#39;1 | \time 4/4 d&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">sync_containers</span><span class="p">(</span><span class="n">container1</span><span class="p">,</span> <span class="n">container2</span><span class="p">)</span>
<span class="go">ValueError: at least one &#39;container&#39; is malformed, with an underfull</span>
<span class="go">bar preceeding a time signature change</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="tenneyscontainer">
<h2>TenneysContainer<a class="headerlink" href="#tenneyscontainer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="auxjad.TenneysContainer">
<em class="property">class </em><code class="descclassname">auxjad.</code><code class="descname">TenneysContainer</code><span class="sig-paren">(</span><em>container: list</em>, <em>*</em>, <em>weights: list = None</em>, <em>curvature: float = 1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.TenneysContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>TenneysContainer in an implementation of the Dissonant Counterpoint
Algorithm by James Tenney. This class can be used to randomly select
elements from an input list, giving more weight to elements which have not
been selected in recent iterations. In other words, Tenney’s algorithm
uses feedback in order to lower the weight of recently selected elements.</p>
<p>This implementation is based on the paper: Polansky, L., A. Barnett, and
M. Winter (2011). <a href="#id1"><span class="problematic" id="id2">`</span></a>A Few More Words About James Tenney: Dissonant
Counterpoint and Statistical Feedback’. In: Journal of Mathematics and
Music 5(2). pp. 63–82.</p>
<div class="example docutils container">
<p>The container should be initialised with a list of objects. The
contents of the list can be absolutely anything.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span>
</pre></div>
</div>
<p>Applying the <code class="docutils literal notranslate"><span class="pre">len()</span></code> function to the container will give the length
of the container.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p>When no other keyword arguments are used, the default probabilities of
each element in the list is 1.0. Probabilities are not normalised. Use
the previous_index attribute to check the previously selected index
(default is None).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">previous_index</span>
<span class="go">None</span>
</pre></div>
</div>
<p>Calling the container will output one of its elements, selected
according to the current probability values. After each call, the
object updates all probability values, setting the previously selected
element’s probability at 0.0 and raising all other probabilities
according to a growth function (more on this below).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;EDFACEABAFDCEDAFADCBFEDABEDFEC&#39;</span>
</pre></div>
</div>
<p>From the result above it is possible to see that there are no immediate
repetitions of elements (since once selected, their probability is
always set to 0.0 and will take at least one iteration to grow to a
non-zero value). Checking the probabilities and previous_index
attributes will give us their current values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[6.0, 5.0, 0.0, 3.0, 1.0, 2.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">previous_index</span>
<span class="go">2</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can take two optional keywords argument during its
instantiation, namely <code class="docutils literal notranslate"><span class="pre">weights</span></code> and <code class="docutils literal notranslate"><span class="pre">curvature</span></code>. <code class="docutils literal notranslate"><span class="pre">weights</span></code> takes
a list of floats with the individual weights of each element; by
default,  all weights are set to 1.0. These weights affects the
effective probability of each element. The other argument,
<code class="docutils literal notranslate"><span class="pre">curvature</span></code>, is the exponent of the growth function for all elements.
The growth function takes as input the number of iterations since an
element has been last selected, and raise this number by the curvature
value. If <code class="docutils literal notranslate"><span class="pre">curvature</span></code> is set to 1.0 (which is its default value), the
growth is linear with each iteration. If set to a value larger than 0.0
and less than 1.0, the growth is negative (or concave), so that the
chances of an element which is not being selected will grow at ever
smaller rates as the number of iterations it has not been selected
increase. If the <code class="docutils literal notranslate"><span class="pre">curvature</span></code> is set to 1.0, the growth is linear with
the number of iterations. If the <code class="docutils literal notranslate"><span class="pre">curvature</span></code> is larger than 1.0, the
curvature is positive (or convex) and the growth will accelerate as the
number of iterations an element has not been selected grows. Setting
the curvature to 0.0 will result in an static probability vector with
all values set to 1.0, except for the previously selected one which
will be set to 0.0; this will result in a uniformly random selection
without repetition.</p>
<p>With linear curvature (default value of 1.0):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="p">()</span>
<span class="go">&#39;B&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[2.0, 0.0, 2.0, 2.0, 2.0, 2.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Using a convex curvature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                    <span class="n">curvature</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="p">()</span>
<span class="go">&#39;C&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.148698354997035, 1.148698354997035, 0.0, 1.148698354997035,</span>
<span class="go">1.148698354997035, 1.148698354997035]</span>
</pre></div>
</div>
<p>With a convex curvature, the growth of the probability of each
non-selected term gets smaller as the number of times it is not
selected increases. The smaller the curvature is, the less difference
there will be between any non-previously selected elements. This
results in sequences which have more chances of a same element being
near each other. In the sequence below, note how there are many cases
of a same element being separated only by a single other one, such as
<code class="docutils literal notranslate"><span class="pre">'ACA'</span></code> in index 6.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;DACBEDFACABDACECBEFAEDBAFBABFD&#39;</span>
</pre></div>
</div>
<p>Checking the probability values at this point outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.2457309396155174, 1.148698354997035, 1.6952182030724354, 0.0,</span>
<span class="go">1.5518455739153598, 1.0]</span>
</pre></div>
</div>
<p>As we can see, all non-zero values are relatively close to each other,
which is why there is a high chance of an element being selected again
just two iterations apart.</p>
</div>
<div class="example docutils container">
<p>Using a concave curvature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                    <span class="n">curvature</span><span class="o">=</span><span class="mf">15.2</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="p">()</span>
<span class="go">&#39;C&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[37640.547696542824, 37640.547696542824, 37640.547696542824, 0.0,</span>
<span class="go">37640.547696542824, 37640.547696542824]</span>
</pre></div>
</div>
<p>With a concave curvature, the growth of the probability of each
non-selected term gets larger as the number of times it is not selected
increases. The larger the curvature is, the larger difference there
will be between any non-previously selected elements. This results in
sequences which have less chances of a same element being near each
other. In the sequence below, with a curvature of 15.2, note how the
elements are as far apart from each other, resulting in a repeating
string of <code class="docutils literal notranslate"><span class="pre">'DFAECB'</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;DFAECBDFAECBDFAECBDFAECBDFAECB&#39;</span>
</pre></div>
</div>
<p>Checking the probability values at this point outputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[17874877.39956566, 0.0, 1.0, 42106007735.02238,</span>
<span class="go">37640.547696542824, 1416810830.8957152]</span>
</pre></div>
</div>
<p>As we can see, the non-zero values vary wildly. The higher the
curvature, the higher the difference between these values, making some
of them much more likely to be selected.</p>
</div>
<div class="example docutils container">
<p>Each element can also have a fixed weight to themselves. This will
affect the probability calculation. The example below uses the default
linear curvature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">&#39;FBEFECFDEADFEDFEDBFECDAFCEDCFE&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[7.0, 12.0, 10.0, 15.0, 0.0, 20.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To reset the probability to its initial value, use the method
<code class="docutils literal notranslate"><span class="pre">reset_probabilities()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[4.0, 3.0, 1.0, 0.0, 5.0, 2.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">reset_probabilities</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To replace an element in the container, use the method
<code class="docutils literal notranslate"><span class="pre">replace_element()</span></code>. This will not affect the current probability
vector, and the new element will have the same probability as the one
it replaced.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">replace_element</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;foo&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[3.0, 2.0, 1.0, 7.0, 5.0, 0.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>A new container of an arbitrary length can be set at any point using
the method <code class="docutils literal notranslate"><span class="pre">set_container()</span></code>. Do notice that the probabilities will
be reset at that point. This method can take the optional keyword
argument weights similarly to when instantiating the class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">container</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[2.0, 1.0, 4.0, 3.0, 0.0, 5.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">set_container</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[2, 4, 6, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To change the curvature value at any point, use the <code class="docutils literal notranslate"><span class="pre">set_curvature()</span></code>
method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneysContainer</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">set_curvature</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.25</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
<div class="section" id="underfull-duration">
<h2>underfull_duration<a class="headerlink" href="#underfull-duration" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="auxjad.underfull_duration">
<code class="descclassname">auxjad.</code><code class="descname">underfull_duration</code><span class="sig-paren">(</span><em>container: abjad.core.Container.Container</em><span class="sig-paren">)</span> &#x2192; abjad.utilities.Duration.Duration<a class="headerlink" href="#auxjad.underfull_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if an <code class="docutils literal notranslate"><span class="pre">abjad.Container</span></code> is underfull and returns the missing
<code class="docutils literal notranslate"><span class="pre">abjad.Duration</span></code>.</p>
<div class="example docutils container">
<p>Returns the missing duration of the last bar of any container or child
class. If no time signature is encountered, it uses LilyPond’s
convention and considers the container as in 4/4.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4 | c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">1/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">3/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Handles any time signatures as well as changes of time signature.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 4/4 c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 a2. \time 2/4 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g1 ~ g4 \time 4/4 af&#39;2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 6/8 c&#39;2 ~ c&#39;8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">1/2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">1/8</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Correctly handles partial time signatures.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;c&#39;4 d&#39;4 e&#39;4 f&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time_signature</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">TimeSignature</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">partial</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abjad</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">time_signature</span><span class="p">,</span> <span class="n">container</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>It also handles multi-measure rests.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container1</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;R1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container2</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 3/4 R1*3/4 \time 2/4 r2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container3</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 R1*5/4 \time 4/4 g&#39;&#39;4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">container4</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 6/8 R1*1/2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container2</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container3</span><span class="p">)</span>
<span class="go">3/4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container4</span><span class="p">)</span>
<span class="go">1/4</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>If a container is malformed, i.e. it has an underfilled bar before a
time signature change, the function raises a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> exception.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">container</span> <span class="o">=</span> <span class="n">abjad</span><span class="o">.</span><span class="n">Container</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\time 5/4 g&#39;&#39;1 \time 4/4 f&#39;1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auxjad</span><span class="o">.</span><span class="n">underfull_duration</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="go">ValueError: &#39;container&#39; is malformed, with an underfull bar preceeding</span>
<span class="go">a time signature change</span>
</pre></div>
</div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Gilberto Agostinho

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>