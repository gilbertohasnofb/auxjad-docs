

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>auxjad.TenneySelector &mdash; auxjad 0.8.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="auxjad.time_signature_extractor" href="auxjad.time_signature_extractor.html" />
    <link rel="prev" title="auxjad.sync_containers" href="auxjad.sync_containers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> auxjad
          

          
          </a>

          
            
            
              <div class="version">
                0.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to auxjad’s documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples of usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">auxjad API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="auxjad.Adrifter.html">auxjad.Adrifter</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.adjust_clefs.html">auxjad.adjust_clefs</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.ArtificialHarmonic.html">auxjad.ArtificialHarmonic</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.CartographySelector.html">auxjad.CartographySelector</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.close_container.html">auxjad.close_container</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.container_is_full.html">auxjad.container_is_full</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.containers_are_equal.html">auxjad.containers_are_equal</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.enforce_time_signature.html">auxjad.enforce_time_signature</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.Fader.html">auxjad.Fader</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.fill_with_rests.html">auxjad.fill_with_rests</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.HarmonicNote.html">auxjad.HarmonicNote</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.Hocketer.html">auxjad.Hocketer</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.LeafDynMaker.html">auxjad.LeafDynMaker</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.leaves_are_tieable.html">auxjad.leaves_are_tieable</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.LoopByList.html">auxjad.LoopByList</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.LoopByNotes.html">auxjad.LoopByNotes</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.LoopByWindow.html">auxjad.LoopByWindow</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.Phaser.html">auxjad.Phaser</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.remove_empty_tuplets.html">auxjad.remove_empty_tuplets</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.remove_repeated_dynamics.html">auxjad.remove_repeated_dynamics</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.remove_repeated_time_signatures.html">auxjad.remove_repeated_time_signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.respell_container.html">auxjad.respell_container</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.respell_chord.html">auxjad.respell_chord</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.rests_to_multimeasure_rest.html">auxjad.rests_to_multimeasure_rest</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.Shuffler.html">auxjad.Shuffler</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.simplified_time_signature_ratio.html">auxjad.simplified_time_signature_ratio</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.sync_containers.html">auxjad.sync_containers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">auxjad.TenneySelector</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.time_signature_extractor.html">auxjad.time_signature_extractor</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxjad.underfull_duration.html">auxjad.underfull_duration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">auxjad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api.html">auxjad API</a> &raquo;</li>
        
      <li>auxjad.TenneySelector</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_api_members/auxjad.TenneySelector.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="auxjad-tenneyselector">
<h1>auxjad.TenneySelector<a class="headerlink" href="#auxjad-tenneyselector" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="auxjad.TenneySelector">
<em class="property">class </em><code class="sig-prename descclassname">auxjad.</code><code class="sig-name descname">TenneySelector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contents</span><span class="p">:</span> <span class="n">list</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">weights</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>list<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">curvature</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">1.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#auxjad.TenneySelector" title="Permalink to this definition">¶</a></dt>
<dd><p>This in an implementation of the Dissonant Counterpoint Algorithm by
James Tenney. This class can be used to randomly select elements from an
input list, giving more weight to elements which have not been selected in
recent iterations. In other words, Tenney’s algorithm uses feedback in
order to lower the weight of recently selected elements.</p>
<p>This implementation is based on the paper: Polansky, L., A. Barnett, and
M. Winter (2011). ‘A Few More Words About James Tenney: Dissonant
Counterpoint and Statistical Feedback’. In: Journal of Mathematics and
Music 5(2). pp. 63–82.</p>
<div class="example docutils container">
<p>The selector should be initialised with a list of objects. The elements
of this list can be of any type.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span>
</pre></div>
</div>
<p>Applying the <code class="docutils literal notranslate"><span class="pre">len()</span></code> function to the selector will return the length
of the input list.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
<p>When no other keyword arguments are used, the default probabilities of
each element in the list is <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Probabilities are not normalised.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">previous_index</span>
<span class="go">None</span>
</pre></div>
</div>
<p>Calling the selector will output one of its elements, selected
according to the current probability values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">()</span>
<span class="go">C</span>
</pre></div>
</div>
<p>Alternatively, use the <code class="docutils literal notranslate"><span class="pre">next()</span></code> function or <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> method to
get the next result.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="fm">__next__</span><span class="p">()</span>
<span class="go">A</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">next</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
<span class="go">D</span>
</pre></div>
</div>
<p>After each call, the object updates all probability values, setting the
previously selected element’s probability at 0.0 and raising all other
probabilities according to a growth function (more on this below).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">EDFACEABAFDCEDAFADCBFEDABEDFEC</span>
</pre></div>
</div>
<p>From the result above it is possible to see that there are no immediate
repetitions of elements (since once selected, their probability is
always set to 0.0 and will take at least one iteration to grow to a
non-zero value). Checking the <code class="docutils literal notranslate"><span class="pre">probabilities</span></code> and <code class="docutils literal notranslate"><span class="pre">previous_index</span></code>
properties will return us their current values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[6.0, 5.0, 0.0, 3.0, 1.0, 2.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">previous_index</span>
<span class="go">2</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Use the read-only properties <code class="docutils literal notranslate"><span class="pre">previous_result</span></code> and <code class="docutils literal notranslate"><span class="pre">previous_index</span></code>
to output the previous result and its index. Default values for both
is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">previous_index</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">previous_result</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">()</span>
<span class="go">C</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">previous_index</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">previous_result</span>
<span class="go">C</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>This class can take two optional keywords argument during its
instantiation, namely <code class="docutils literal notranslate"><span class="pre">weights</span></code> and <code class="docutils literal notranslate"><span class="pre">curvature</span></code>. <code class="docutils literal notranslate"><span class="pre">weights</span></code> takes
a list of floats with the individual weights of each element; by
default,  all weights are set to 1.0. These weights affects the
effective probability of each element. The other argument,
<code class="docutils literal notranslate"><span class="pre">curvature</span></code>, is the exponent of the growth function for all elements.
The growth function takes as input the number of iterations since an
element has been last selected, and raise this number by the curvature
value. If <code class="docutils literal notranslate"><span class="pre">curvature</span></code> is set to 1.0 (which is its default value), the
growth is linear with each iteration. If set to a value larger than 0.0
and less than 1.0, the growth is negative (or concave), so that the
chances of an element which is not being selected will grow at ever
smaller rates as the number of iterations it has not been selected
increase. If the <code class="docutils literal notranslate"><span class="pre">curvature</span></code> is set to 1.0, the growth is linear with
the number of iterations. If the <code class="docutils literal notranslate"><span class="pre">curvature</span></code> is larger than 1.0, the
curvature is positive (or convex) and the growth will accelerate as the
number of iterations an element has not been selected grows. Setting
the curvature to 0.0 will result in an static probability vector with
all values set to 1.0, except for the previously selected one which
will be set to 0.0; this will result in a uniformly random selection
without repetition.</p>
<p>With linear curvature (default value of 1.0):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">()</span>
<span class="go">&#39;B&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[2.0, 0.0, 2.0, 2.0, 2.0, 2.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>Using a convex curvature:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                 <span class="n">curvature</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">()</span>
<span class="go">&#39;C&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.148698354997035, 1.148698354997035, 0.0, 1.148698354997035,</span>
<span class="go">1.148698354997035, 1.148698354997035]</span>
</pre></div>
</div>
<p>With a convex curvature, the growth of the probability of each
non-selected term gets smaller as the number of times it is not
selected increases. The smaller the curvature is, the less difference
there will be between any non-previously selected elements. This
results in sequences which have more chances of a same element being
near each other. In the sequence below, note how there are many cases
of a same element being separated only by a single other one, such as
<code class="docutils literal notranslate"><span class="pre">'ACA'</span></code> in index 6.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">DACBEDFACABDACECBEFAEDBAFBABFD</span>
</pre></div>
</div>
<p>Checking the probability values at this point outputs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.2457309396155174, 1.148698354997035, 1.6952182030724354, 0.0,</span>
<span class="go">1.5518455739153598, 1.0]</span>
</pre></div>
</div>
<p>As we can see, all non-zero values are relatively close to each other,
which is why there is a high chance of an element being selected again
just two iterations apart.</p>
</div>
<div class="example docutils container">
<p>Using a concave curvature:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                 <span class="n">curvature</span><span class="o">=</span><span class="mf">15.2</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">()</span>
<span class="go">&#39;C&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[37640.547696542824, 37640.547696542824, 37640.547696542824, 0.0,</span>
<span class="go">37640.547696542824, 37640.547696542824]</span>
</pre></div>
</div>
<p>With a concave curvature, the growth of the probability of each
non-selected term gets larger as the number of times it is not selected
increases. The larger the curvature is, the larger difference there
will be between any non-previously selected elements. This results in
sequences which have less chances of a same element being near each
other. In the sequence below, with a curvature of 15.2, note how the
elements are as far apart from each other, resulting in a repeating
string of <code class="docutils literal notranslate"><span class="pre">'DFAECB'</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">DFAECBDFAECBDFAECBDFAECBDFAECB</span>
</pre></div>
</div>
<p>Checking the probability values at this point outputs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[17874877.39956566, 0.0, 1.0, 42106007735.02238,</span>
<span class="go">37640.547696542824, 1416810830.8957152]</span>
</pre></div>
</div>
<p>As we can see, the non-zero values vary wildly. The higher the
curvature, the higher the difference between these values, making some
of them much more likely to be selected.</p>
</div>
<div class="example docutils container">
<p>Each element can also have a fixed weight to themselves. This will
affect the probability calculation. The example below uses the default
linear curvature.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">result</span> <span class="o">+=</span> <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span>
<span class="go">FBEFECFDEADFEDFEDBFECDAFCEDCFE</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[7.0, 12.0, 10.0, 15.0, 0.0, 20.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To reset the probability distribution of all elements to its initial
value (an uniform distribution), use the method
<code class="docutils literal notranslate"><span class="pre">reset_probabilities()</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[4.0, 3.0, 1.0, 0.0, 5.0, 2.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">reset_probabilities</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0, 1.0, 1.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>The <code class="docutils literal notranslate"><span class="pre">contents</span></code> of instances of this class can be indexed and sliced.
This allows reading, assigning, or deleting values from <code class="docutils literal notranslate"><span class="pre">contents</span></code>.
Replacing elements by assignment will not affect the <code class="docutils literal notranslate"><span class="pre">probabilities</span></code>
property, and the new elements will have the same probability as the
ones it replaced. Deleting element will delete the probability of that
index.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[3.0, 2.0, 1.0, 7.0, 5.0, 0.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">&#39;C&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="go">[&#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;foo&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;...&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;foo&#39;, &#39;bar&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;...&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[3.0, 2.0, 1.0, 7.0, 5.0, 0.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">selector</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;...&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 7.0, 5.0, 0.0]</span>
</pre></div>
</div>
<p>You can also check if the instance contains a specific element. In the
case of the selector above, we have:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;X&#39;</span> <span class="ow">in</span> <span class="n">selector</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;A&#39;</span> <span class="ow">in</span> <span class="n">selector</span>
<span class="go">False</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>A new list of an arbitrary length can be set at any point using the
property <code class="docutils literal notranslate"><span class="pre">contents</span></code>. Do notice that both <code class="docutils literal notranslate"><span class="pre">probabilities</span></code> and
<code class="docutils literal notranslate"><span class="pre">weights</span></code> will be reset at that point.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">selector</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 5.0, 5.0, 10.0, 20.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[8.0, 2.0, 5.0, 15.0, 50.0, 0.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">selector</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">contents</span>
<span class="go">[2, 4, 6, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">weights</span>
<span class="go">[1.0, 1.0, 1.0, 1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">probabilities</span>
<span class="go">[1.0, 1.0, 1.0, 1.0]</span>
</pre></div>
</div>
</div>
<div class="example docutils container">
<p>To change the curvature value at any point, simply set the property
<code class="docutils literal notranslate"><span class="pre">curvature</span></code> to a different value.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span> <span class="o">=</span> <span class="n">auxjad</span><span class="o">.</span><span class="n">TenneySelector</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">selector</span><span class="o">.</span><span class="n">curvature</span>
<span class="go">0.25</span>
</pre></div>
</div>
</div>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code>(contents, *[, weights, curvature])</p></td>
<td><p>Initialises self.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset_probabilities</span></code>()</p></td>
<td><p>Resets the probability distribution of all elements to an uniform distribution.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">contents</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">list</span></code> from which the selector picks elements.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">curvature</span></code></p></td>
<td><p>The exponent of the growth function.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">previous_index</span></code></p></td>
<td><p>Read-only property, returns the index of the previously output element.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">previous_result</span></code></p></td>
<td><p>Read-only property, returns the previously output element.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">probabilities</span></code></p></td>
<td><p>Read-only property, returns the probabilities vector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">weights</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">list</span></code> with weights for each element of <code class="docutils literal notranslate"><span class="pre">contents</span></code>.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="auxjad.time_signature_extractor.html" class="btn btn-neutral float-right" title="auxjad.time_signature_extractor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="auxjad.sync_containers.html" class="btn btn-neutral float-left" title="auxjad.sync_containers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Gilberto Agostinho

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>